<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>vueæ•°æ®é©±åŠ¨åŸç† | é¹§é¸ªå¤©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="D1h-KykTKkHWWZvIvkNSIvgrB7xc8KacZZtoIA8asgc">
  <meta name="baidu-site-verification" content="8E0ReY1tJJ">
  
  <meta name="keywords" content="JSåŸç†Vue">
  
  
  
  
  <meta name="description" content="æ•°æ®é©±åŠ¨æµç¨‹ init åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•° è¿›è¡Œæ•°æ®ä»£ç†   mount Vue.prototype.$mount æ¨¡ç‰ˆç¼–è¯‘ åˆ›å»º watcher å®ä¾‹   render Vue.prototype._render createElement åˆ›å»º Vnode æ ‘å½¢ç»“æ„æ‰å¹³åŒ–   update Vue.prototype._update é¡µé¢æ¸²æŸ“ åå‡½æ•°æŠ€å·§   BMW WARNING">
<meta name="keywords" content="JS,åŸç†,Vue">
<meta property="og:type" content="article">
<meta property="og:title" content="Vueæ•°æ®é©±åŠ¨åŸç†">
<meta property="og:url" content="http://www.skyline.show/Vueæ•°æ®é©±åŠ¨åŸç†.html">
<meta property="og:site_name" content="é¹§é¸ªå¤©">
<meta property="og:description" content="æ•°æ®é©±åŠ¨æµç¨‹ init åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•° è¿›è¡Œæ•°æ®ä»£ç†   mount Vue.prototype.$mount æ¨¡ç‰ˆç¼–è¯‘ åˆ›å»º watcher å®ä¾‹   render Vue.prototype._render createElement åˆ›å»º Vnode æ ‘å½¢ç»“æ„æ‰å¹³åŒ–   update Vue.prototype._update é¡µé¢æ¸²æŸ“ åå‡½æ•°æŠ€å·§   BMW WARNING">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Vue%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E5%8E%9F%E7%90%86%2420230304194743.png">
<meta property="og:updated_time" content="2023-03-04T06:01:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vueæ•°æ®é©±åŠ¨åŸç†">
<meta name="twitter:description" content="æ•°æ®é©±åŠ¨æµç¨‹ init åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•° è¿›è¡Œæ•°æ®ä»£ç†   mount Vue.prototype.$mount æ¨¡ç‰ˆç¼–è¯‘ åˆ›å»º watcher å®ä¾‹   render Vue.prototype._render createElement åˆ›å»º Vnode æ ‘å½¢ç»“æ„æ‰å¹³åŒ–   update Vue.prototype._update é¡µé¢æ¸²æŸ“ åå‡½æ•°æŠ€å·§   BMW WARNING">
<meta name="twitter:image" content="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Vue%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E5%8E%9F%E7%90%86%2420230304194743.png">
  
    <link rel="alternate" href="/atom.xml" title="é¹§é¸ªå¤©" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">é¦–é¡µ</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">å½’æ¡£</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">åˆ†ç±»</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">æ ‡ç­¾</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">å…³äº</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æ— æ ‡é¢˜)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-Vueæ•°æ®é©±åŠ¨åŸç†" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Vueæ•°æ®é©±åŠ¨åŸç†
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    
    <span style="color: #999">å‘è¡¨äº</span>
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2023-03-04T06:01:04.000Z" itemprop="datePublished">2023-03-04</time>
    </a><span style="color: #999">|</span>


    <span style="color: #999">æ›´æ–°äº</span><a href="javascript:void(0)" class="article-date">
      <time datetime="2023-03-04T06:01:04.000Z" itemprop="datePublished">2023-03-04</time>
    </a><span style="color: #999">|</span>

      
    
    <span style="color: #999">åˆ†ç±»äº</span>
    
    <a class="article-category-link" href="/categories/Major/">Major</a>
    <!-- <span style="color: #999">|</span> -->

      <!--  -->
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#æ•°æ®é©±åŠ¨æµç¨‹">æ•°æ®é©±åŠ¨æµç¨‹</a></li>
<li><a href="#init">init</a><ul>
<li><a href="#åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°">åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°</a></li>
<li><a href="#è¿›è¡Œæ•°æ®ä»£ç†">è¿›è¡Œæ•°æ®ä»£ç†</a></li>
</ul>
</li>
<li><a href="#mount">mount</a><ul>
<li><a href="#vueprototypemount">Vue.prototype.$mount</a></li>
<li><a href="#æ¨¡ç‰ˆç¼–è¯‘">æ¨¡ç‰ˆç¼–è¯‘</a></li>
<li><a href="#åˆ›å»º-watcher-å®ä¾‹">åˆ›å»º watcher å®ä¾‹</a></li>
</ul>
</li>
<li><a href="#render">render</a><ul>
<li><a href="#vueprototype_render">Vue.prototype._render</a></li>
<li><a href="#createelement-åˆ›å»º-vnode">createElement åˆ›å»º Vnode</a></li>
<li><a href="#æ ‘å½¢ç»“æ„æ‰å¹³åŒ–">æ ‘å½¢ç»“æ„æ‰å¹³åŒ–</a></li>
</ul>
</li>
<li><a href="#update">update</a><ul>
<li><a href="#vueprototype_update">Vue.prototype._update</a></li>
<li><a href="#é¡µé¢æ¸²æŸ“">é¡µé¢æ¸²æŸ“</a></li>
<li><a href="#åå‡½æ•°æŠ€å·§">åå‡½æ•°æŠ€å·§</a></li>
</ul>
</li>
<li><a href="#bmw-warning">BMW WARNING</a></li>
</ul>
<!-- /code_chunk_output -->
<h2 id="æ•°æ®é©±åŠ¨æµç¨‹"><a href="#æ•°æ®é©±åŠ¨æµç¨‹" class="headerlink" title="æ•°æ®é©±åŠ¨æµç¨‹"></a>æ•°æ®é©±åŠ¨æµç¨‹</h2><blockquote>
<p>æœ¬æ–‡å¯¹åº”çš„ Vue ç‰ˆæœ¬ä¸º 2.5.17</p>
</blockquote>
<p>æ•°æ®é©±åŠ¨æ˜¯æŒ‡è§†å›¾ç”±æ•°æ®æ¥è°ƒé…ç”Ÿæˆï¼Œè§†å›¾çš„æ›´æ–°ä¸ç›´æ¥æ“ä½œ DOMï¼Œè€Œæ˜¯ç›´æ¥ä¿®æ”¹æ•°æ®ã€‚</p>
<p>Vue æ˜¯æ•°æ®é©±åŠ¨çš„ï¼Œå…¶æ•°æ®é©±åŠ¨æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Vue%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E5%8E%9F%E7%90%86%2420230304194743.png" alt="Vueæ•°æ®é©±åŠ¨åŸç†$20230304194743"></p>
<h2 id="init"><a href="#init" class="headerlink" title="init"></a>init</h2><h3 id="åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°"><a href="#åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°" class="headerlink" title="åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°"></a>åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°</h3><a id="more"></a>
<p>åœ¨å®ä¾‹åŒ– Vueï¼ˆnew Vueï¼‰æ—¶ï¼Œä¸»è¦è°ƒç”¨äº†_init æ–¹æ³•ã€‚</p>
<p>å‡½æ•°å†…éƒ¨åˆå§‹åŒ–ä¸€ç³»åˆ—æ•°æ®ä¸åŠŸèƒ½å‡½æ•°<br>ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>åˆå¹¶é…ç½®</li>
<li>åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸ</li>
<li>åˆå§‹åŒ–äº‹ä»¶ä¸­å¿ƒ</li>
<li>åˆå§‹åŒ–æ¸²æŸ“</li>
<li>åˆå§‹åŒ–æ•°æ®</li>
<li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">Vue.prototype._init = <span class="function"><span class="keyword">function</span> (<span class="params">options?: Object</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> vm: Component = <span class="keyword">this</span></span><br><span class="line">  ...</span><br><span class="line">  initLifecycle(vm)</span><br><span class="line">  initEvents(vm)</span><br><span class="line">  initRender(vm)</span><br><span class="line">  callHook(vm, <span class="string">'beforeCreate'</span>)</span><br><span class="line">  initInjections(vm) <span class="comment">// resolve injections before data/props   initState(vm)   initProvide(vm)</span></span><br><span class="line">  callHook(vm, <span class="string">'beforeCreate'</span>)</span><br><span class="line">  initInjections(vm) <span class="comment">// resolve injections before data/props</span></span><br><span class="line">  initState(vm)</span><br><span class="line">  initProvide(vm) <span class="comment">// resolve provide after data/props</span></span><br><span class="line">  callHook(vm, <span class="string">'created'</span>)</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (vm.$options.el) &#123;</span><br><span class="line">    vm.$mount(vm.$options.el)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿›è¡Œæ•°æ®ä»£ç†"><a href="#è¿›è¡Œæ•°æ®ä»£ç†" class="headerlink" title="è¿›è¡Œæ•°æ®ä»£ç†"></a>è¿›è¡Œæ•°æ®ä»£ç†</h3><p>åœ¨åˆå§‹åŒ–æ•°æ® initState å‡½æ•°ä¸­ï¼Œå†…éƒ¨è°ƒç”¨äº† proxy æ–¹æ³•è¿›è¡Œæ•°æ®ä»£ç†ï¼Œ<br>ä½¿å¾—å¯ä»¥é€šè¿‡ this è®¿é—® data/props ä¸­çš„æ•°æ®ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">initState(vm)</span><br></pre></td></tr></table></figure>
<p>åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæˆ–è€…æ–¹æ³•ä¸­ï¼Œå¯ä»¥é€šè¿‡ this ç›´æ¥æ‹¿åˆ° propsã€data ç­‰ä¸­çš„æ•°æ®ï¼Œ<br>å°±æ˜¯ç”±äº Vue åšäº†ä¸€å±‚ä»£ç†ï¼Œ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">proxy(vm, <span class="string">'_data'</span>, key)</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sharedPropertyDefinition = &#123;</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  <span class="keyword">get</span>: noop,</span><br><span class="line">  <span class="keyword">set</span>: noop,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function proxy(target, sourceKey, key) &#123;</span><br><span class="line">  sharedPropertyDefinition.get = <span class="function"><span class="keyword">function</span> <span class="title">proxyGetter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[sourceKey][key]</span><br><span class="line">  &#125;</span><br><span class="line">  sharedPropertyDefinition.set = <span class="function"><span class="keyword">function</span> <span class="title">proxySetter</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>[sourceKey][key] = val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(target, key, sharedPropertyDefinition)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸ºç»„ä»¶å®šä¹‰æ–°çš„è®¿é—®å™¨å±æ€§ï¼Œå¹¶é‡å†™è®¿é—®å™¨çš„è¯»å†™æ¥è¾¾åˆ°ä»£ç†çš„ç›®çš„ã€‚</p>
<h2 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h2><h3 id="Vue-prototype-mount"><a href="#Vue-prototype-mount" class="headerlink" title="Vue.prototype.$mount"></a>Vue.prototype.$mount</h3><p>åœ¨ init å‡½æ•°æœ€åï¼Œè°ƒç”¨äº† mountã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">vm.$mount(vm.$options.el)</span><br></pre></td></tr></table></figure>
<p>è¿™å¯¹åº”ç»„ä»¶æŒ‚è½½å‡½æ•° Vue.prototype.$mount ï¼Œ<br>mount æœ‰ä¸€ä¸ªå…¬å…±çš„å‡½æ•°ï¼Œ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// public mount method</span></span><br><span class="line">Vue.prototype.$mount = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  el?: string | Element,</span></span></span><br><span class="line"><span class="function"><span class="params">  hydrating?: boolean</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">Component</span> </span>&#123;</span><br><span class="line">  el = el &amp;&amp; inBrowser ? query(el) : <span class="literal">undefined</span></span><br><span class="line">  <span class="keyword">return</span> mountComponent(<span class="keyword">this</span>, el, hydrating)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®ä¸åŒçš„å¹³å°ï¼Œè°ƒç”¨å…¬å…± mount çš„åŒæ—¶ï¼Œè¿›è¡Œå¹³å°æˆ–ç¯å¢ƒå®šåˆ¶ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> mount = Vue.prototype.$mount</span><br><span class="line">Vue.prototype.$mount = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  el?: string | Element,</span></span></span><br><span class="line"><span class="function"><span class="params">  hydrating?: boolean</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">Component</span> </span>&#123;</span><br><span class="line">  el = el &amp;&amp; query(el)</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">const</span> options = <span class="keyword">this</span>.$options</span><br><span class="line">  <span class="comment">// resolve template/el and convert to render function</span></span><br><span class="line">  <span class="keyword">if</span> (!options.render) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">/* istanbul ignore if */</span></span><br><span class="line">      <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span> &amp;&amp; config.performance &amp;&amp; mark) &#123;</span><br><span class="line">        mark(<span class="string">'compile'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> &#123; render, staticRenderFns &#125; = compileToFunctions(template, &#123;</span><br><span class="line">        shouldDecodeNewlines,</span><br><span class="line">        shouldDecodeNewlinesForHref,</span><br><span class="line">        delimiters: options.delimiters,</span><br><span class="line">        comments: options.comments</span><br><span class="line">      &#125;, <span class="keyword">this</span>)</span><br><span class="line">      options.render = render</span><br><span class="line">      options.staticRenderFns = staticRenderFns</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> mount.call(<span class="keyword">this</span>, el, hydrating)</span><br></pre></td></tr></table></figure>
<p>æœ€åéƒ¨åˆ†çš„</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">mount.call(<span class="keyword">this</span>, el, hydrating)</span><br></pre></td></tr></table></figure>
<p>å³ä¸»è¦è°ƒç”¨äº† mountComponentã€‚</p>
<p>mount æ–¹æ³•ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ul>
<li>ç¼–è¯‘æ¨¡ç‰ˆè¯­æ³•</li>
<li>è°ƒç”¨ mountComponent æŒ‚åœ¨ç»„ä»¶åˆ°é¡µé¢</li>
</ul>
<p>ä¸ç®¡æ˜¯ template è¯­æ³•è¿˜æ˜¯å†™ render å‡½æ•°ï¼ŒVue æœ€ç»ˆéƒ½é€šè¿‡ render æ¥è·å–å¯¹åº”çš„ VDOMã€‚</p>
<h3 id="æ¨¡ç‰ˆç¼–è¯‘"><a href="#æ¨¡ç‰ˆç¼–è¯‘" class="headerlink" title="æ¨¡ç‰ˆç¼–è¯‘"></a>æ¨¡ç‰ˆç¼–è¯‘</h3><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; render, staticRenderFns &#125; = compileToFunctions(</span><br><span class="line">  template,</span><br><span class="line">  &#123;</span><br><span class="line">    shouldDecodeNewlines,</span><br><span class="line">    shouldDecodeNewlinesForHref,</span><br><span class="line">    delimiters: options.delimiters,</span><br><span class="line">    comments: options.comments,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">this</span></span><br><span class="line">)</span><br><span class="line">options.render = render</span><br><span class="line">options.staticRenderFns = staticRenderFns</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šï¼Œæ¨¡ç‰ˆè¯­æ³•å°†é€šè¿‡ compileToFunctions è¢«ç¼–è¯‘æˆ render å‡½æ•°ã€‚</p>
<h3 id="åˆ›å»º-watcher-å®ä¾‹"><a href="#åˆ›å»º-watcher-å®ä¾‹" class="headerlink" title="åˆ›å»º watcher å®ä¾‹"></a>åˆ›å»º watcher å®ä¾‹</h3><p>åœ¨ mount å‡½æ•°æœ€åï¼Œä¼šè°ƒç”¨ mountComponent æŒ‚åœ¨ç»„ä»¶åˆ°é¡µé¢æ—¶ï¼Œå®ä¾‹åŒ–äº† Watcherã€‚<br>åˆ›å»º watcher å®ä¾‹æ—¶ï¼Œè°ƒç”¨ updateComponent å‡½æ•°ã€‚</p>
<p>è¿™é‡Œçš„ Watcher ç”¨åˆ°çš„æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè¿™é‡Œç”¨äºåˆå§‹åŒ–é¡µé¢å¹¶ç›‘å¬æ›´æ–°ï¼Œè¿™ä¸€éƒ¨åˆ†éœ€è¦å•ç‹¬åˆ†æã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mountComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  callHook(vm, <span class="string">'beforeMount'</span>)</span><br><span class="line">  <span class="comment">// ç»„ä»¶é¦–æ¬¡æŒ‚è½½å’Œåç»­æ›´æ–°éƒ½è¦è°ƒç”¨æ­¤æ–¹æ³•</span></span><br><span class="line">  updateComponent = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    vm._update(vm._render(), hydrating)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">new</span> Watcher(</span><br><span class="line">    vm,</span><br><span class="line">    updateComponent,</span><br><span class="line">    noop,</span><br><span class="line">    &#123;</span><br><span class="line">      before: <span class="function"><span class="keyword">function</span> <span class="title">before</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (vm._isMounted) &#123;</span><br><span class="line">          callHook(vm, <span class="string">'beforeUpdate'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="literal">true</span> <span class="comment">/* isRenderWatcher */</span></span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">if</span> (vm.$vnode == <span class="literal">null</span>) &#123;</span><br><span class="line">    vm._isMounted = <span class="literal">true</span></span><br><span class="line">    callHook(vm, <span class="string">'mounted'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> vm</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ä¼šå…ˆæ‰§è¡Œ vm._render()å¾—åˆ° VDOMï¼Œç„¶åä¼ å‚ç»™ vm._update æ¸²æŸ“åˆ°é¡µé¢ã€‚<br>åç»­é¡µé¢æ›´æ–°æ—¶ï¼Œä¹Ÿæ˜¯è°ƒç”¨ updateComponent æ¥æ›´æ–° VDOM å’Œé¡µé¢çš„ã€‚</p>
<h2 id="render"><a href="#render" class="headerlink" title="render"></a>render</h2><h3 id="Vue-prototype-render"><a href="#Vue-prototype-render" class="headerlink" title="Vue.prototype._render"></a>Vue.prototype._render</h3><p>åœ¨å®ä¾‹åŒ– Watcher æ—¶ï¼Œæ‰§è¡Œ updateComponent æ–¹æ³•ï¼Œ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// hydratingç”¨äºåˆ¤æ–­æ˜¯å¦æœåŠ¡ç«¯</span></span><br><span class="line">vm._update(vm._render(), hydrating)</span><br></pre></td></tr></table></figure>
<p>render å‡½æ•°ç”¨äºç”Ÿæˆ VDOM ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">Vue.prototype._render = <span class="function"><span class="keyword">function</span> (<span class="params"></span>): <span class="title">VNode</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> vm: Component = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">const</span> &#123; render, _parentVnode &#125; = vm.$options</span><br><span class="line">  <span class="comment">// set parent vnode. this allows render functions to have access</span></span><br><span class="line">  <span class="comment">// to the data on the placeholder node.</span></span><br><span class="line">  vm.$vnode = _parentVnode</span><br><span class="line">  <span class="comment">// render self</span></span><br><span class="line">  <span class="keyword">let</span> vnode</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    vnode = render.call(vm._renderProxy, vm.$createElement)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">  vnode.parent = _parentVnode</span><br><span class="line">  <span class="keyword">return</span> vnode</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="createElement-åˆ›å»º-Vnode"><a href="#createElement-åˆ›å»º-Vnode" class="headerlink" title="createElement åˆ›å»º Vnode"></a>createElement åˆ›å»º Vnode</h3><p>Vue å…¶å®å·²å°† VDOM è·å–å‡½æ•° createElement çš„ API æš´éœ²å¹¶ä¼ é€’ç»™ render ä½œä¸ºå…¶å‚æ•°ï¼Œ<br>æ—¥å¸¸ä»£ç ä¹Ÿä¼šæ¶‰åŠä½¿ç”¨ render æ¥å†™ç»„ä»¶ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">_createElement</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="regexp">//</span> ç»„ä»¶ä¸Šä¸‹æ–‡,vmå®ä¾‹</span></span></span><br><span class="line"><span class="function"><span class="params">  context: Component,</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="regexp">//</span> ç”Ÿæˆç›®æ ‡</span></span></span><br><span class="line"><span class="function"><span class="params">  tag?: string | Class&lt;Component&gt; | Function | Object,</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="regexp">//</span> ç›¸å…³ä¿¡æ¯</span></span></span><br><span class="line"><span class="function"><span class="params">  data?: VNodeData,</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="regexp">//</span> å­èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="function"><span class="params">  children?: any,</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="regexp">//</span> åŒºåˆ†renderç”±templateç¼–è¯‘è¿˜æ˜¯å¼€å‘è€…æ‰‹å†™</span></span></span><br><span class="line"><span class="function"><span class="params">  normalizationType?: number</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">VNode</span> | <span class="title">Array</span>&lt;<span class="title">VNode</span>&gt; </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (!tag) &#123;</span><br><span class="line">    <span class="comment">// in case of component :is set to falsy value</span></span><br><span class="line">    <span class="keyword">return</span> createEmptyVNode()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// support single function children as default scoped slot</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(children) &amp;&amp; <span class="keyword">typeof</span> children[<span class="number">0</span>] === <span class="string">'function'</span>) &#123;</span><br><span class="line">    data = data || &#123;&#125;</span><br><span class="line">    data.scopedSlots = &#123; <span class="attr">default</span>: children[<span class="number">0</span>] &#125;</span><br><span class="line">    children.length = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (normalizationType === ALWAYS_NORMALIZE) &#123;</span><br><span class="line">    children = normalizeChildren(children)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (normalizationType === SIMPLE_NORMALIZE) &#123;</span><br><span class="line">    children = simpleNormalizeChildren(children)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> vnode, ns</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> tag === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="comment">// constructorç®€å†™ğŸ˜</span></span><br><span class="line">    <span class="keyword">let</span> Ctor</span><br><span class="line">    ns = (context.$vnode &amp;&amp; context.$vnode.ns) || config.getTagNamespace(tag)</span><br><span class="line">    <span class="keyword">if</span> (config.isReservedTag(tag)) &#123;</span><br><span class="line">      <span class="comment">// platform built-in elements</span></span><br><span class="line">      vnode = <span class="keyword">new</span> VNode(</span><br><span class="line">        config.parsePlatformTagName(tag),</span><br><span class="line">        data,</span><br><span class="line">        children,</span><br><span class="line">        <span class="literal">undefined</span>,</span><br><span class="line">        <span class="literal">undefined</span>,</span><br><span class="line">        context</span><br><span class="line">      )</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">      isDef((Ctor = resolveAsset(context.$options, <span class="string">'components'</span>, tag)))</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">// è‡ªå®šä¹‰çš„vueç»„ä»¶</span></span><br><span class="line">      vnode = createComponent(Ctor, data, context, children, tag)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// unknown or unlisted namespaced elements</span></span><br><span class="line">      <span class="comment">// check at runtime because it may get assigned a namespace when its</span></span><br><span class="line">      <span class="comment">// parent normalizes children</span></span><br><span class="line">      vnode = <span class="keyword">new</span> VNode(tag, data, children, <span class="literal">undefined</span>, <span class="literal">undefined</span>, context)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// direct component options / constructor</span></span><br><span class="line">    vnode = createComponent(tag, data, context, children)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(vnode)) &#123;</span><br><span class="line">    <span class="keyword">return</span> vnode</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isDef(vnode)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isDef(ns)) applyNS(vnode, ns)</span><br><span class="line">    <span class="keyword">if</span> (isDef(data)) registerDeepBindings(data)</span><br><span class="line">    <span class="keyword">return</span> vnode</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> createEmptyVNode()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>createElement åŒºåˆ†ä¸åŒæƒ…å†µåˆ›å»ºä¸åŒçš„ Vnodeï¼Œå¯¹äºæ ‘å½¢ç»“æ„ï¼Œé€’å½’æ‰å¹³åŒ–æˆ vnode çš„ä¸€ç»´æ•°ç»„<code>Array&lt;vnode&gt;</code></p>
<h3 id="æ ‘å½¢ç»“æ„æ‰å¹³åŒ–"><a href="#æ ‘å½¢ç»“æ„æ‰å¹³åŒ–" class="headerlink" title="æ ‘å½¢ç»“æ„æ‰å¹³åŒ–"></a>æ ‘å½¢ç»“æ„æ‰å¹³åŒ–</h3><p>è¿™é‡Œå°†å¯¹äº template ç¼–è¯‘æˆçš„ renderï¼Œå…¶ children è¿›è¡Œç®€å•æ‰å¹³åŒ–å¤„ç†<br>simpleNormalizeChildren</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">simpleNormalizeChildren</span>(<span class="params">children: any</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; children.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(children[i])) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.concat.apply([], children)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> children</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºç”¨æˆ·æ‰‹å†™ renderï¼Œéœ€è¦ç”¨é€’å½’æ¥å°†æ‰€æœ‰å­èŠ‚ç‚¹ç»Ÿä¸€æ‰å¹³åŒ–è·å–ä¸€ç»´æ•°ç»„ã€‚</p>
<p>normalizeChildren</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">normalizeChildren</span>(<span class="params">children: any</span>): ?<span class="title">Array</span>&lt;<span class="title">VNode</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> isPrimitive(children)</span><br><span class="line">    ? [createTextVNode(children)]</span><br><span class="line">    : <span class="built_in">Array</span>.isArray(children)</span><br><span class="line">    ? normalizeArrayChildren(children)</span><br><span class="line">    : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeArrayChildren</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  children: any,</span></span></span><br><span class="line"><span class="function"><span class="params">  nestedIndex?: string</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">Array</span>&lt;<span class="title">VNode</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res = []</span><br><span class="line">  <span class="keyword">let</span> i, c, lastIndex, last</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; children.length; i++) &#123;</span><br><span class="line">    c = children[i]</span><br><span class="line">    <span class="keyword">if</span> (isUndef(c) || <span class="keyword">typeof</span> c === <span class="string">'boolean'</span>) <span class="keyword">continue</span></span><br><span class="line">    lastIndex = res.length - <span class="number">1</span></span><br><span class="line">    last = res[lastIndex]</span><br><span class="line">    <span class="comment">//  nested</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(c)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (c.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        c = normalizeArrayChildren(c, <span class="string">`<span class="subst">$&#123;nestedIndex || <span class="string">''</span>&#125;</span>_<span class="subst">$&#123;i&#125;</span>`</span>)</span><br><span class="line">        <span class="comment">// merge adjacent text nodes</span></span><br><span class="line">        <span class="keyword">if</span> (isTextNode(c[<span class="number">0</span>]) &amp;&amp; isTextNode(last)) &#123;</span><br><span class="line">          res[lastIndex] = createTextVNode(last.text + (c[<span class="number">0</span>]: any).text)</span><br><span class="line">          c.shift()</span><br><span class="line">        &#125;</span><br><span class="line">        res.push.apply(res, c)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isPrimitive(c)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isTextNode(last)) &#123;</span><br><span class="line">        <span class="comment">// merge adjacent text nodes</span></span><br><span class="line">        <span class="comment">// this is necessary for SSR hydration because text nodes are</span></span><br><span class="line">        <span class="comment">// essentially merged when rendered to HTML strings</span></span><br><span class="line">        res[lastIndex] = createTextVNode(last.text + c)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c !== <span class="string">''</span>) &#123;</span><br><span class="line">        <span class="comment">// convert primitive to vnode</span></span><br><span class="line">        res.push(createTextVNode(c))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (isTextNode(c) &amp;&amp; isTextNode(last)) &#123;</span><br><span class="line">        <span class="comment">// merge adjacent text nodes</span></span><br><span class="line">        res[lastIndex] = createTextVNode(last.text + c.text)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// default key for nested array children (likely generated by v-for)</span></span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          isTrue(children._isVList) &amp;&amp;</span><br><span class="line">          isDef(c.tag) &amp;&amp;</span><br><span class="line">          isUndef(c.key) &amp;&amp;</span><br><span class="line">          isDef(nestedIndex)</span><br><span class="line">        ) &#123;</span><br><span class="line">          c.key = <span class="string">`__vlist<span class="subst">$&#123;nestedIndex&#125;</span>_<span class="subst">$&#123;i&#125;</span>__`</span></span><br><span class="line">        &#125;</span><br><span class="line">        res.push(c)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="update"><a href="#update" class="headerlink" title="update"></a>update</h2><h3 id="Vue-prototype-update"><a href="#Vue-prototype-update" class="headerlink" title="Vue.prototype._update"></a>Vue.prototype._update</h3><p>render è·å–åˆ°çš„è™šæ‹ŸèŠ‚ç‚¹ä½œä¸º update æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// hydratingç”¨äºåˆ¤æ–­æ˜¯å¦æœåŠ¡ç«¯</span></span><br><span class="line">vm._update(vm._render(), hydrating)</span><br></pre></td></tr></table></figure>
<p>_update æ–¹æ³•å¦‚ä¸‹ï¼Œä¸»è¦è°ƒç”¨äº†<strong>patch</strong>å°† VDOM æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">Vue.prototype._update = <span class="function"><span class="keyword">function</span> (<span class="params">vnode: VNode, hydrating?: boolean</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> vm: Component = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">const</span> prevEl = vm.$el</span><br><span class="line">  <span class="keyword">const</span> prevVnode = vm._vnode</span><br><span class="line">  <span class="keyword">const</span> prevActiveInstance = activeInstance</span><br><span class="line">  activeInstance = vm</span><br><span class="line">  vm._vnode = vnode</span><br><span class="line">  <span class="comment">// Vue.prototype.__patch__ is injected in entry points</span></span><br><span class="line">  <span class="comment">// based on the rendering backend used.</span></span><br><span class="line">  <span class="keyword">if</span> (!prevVnode) &#123;</span><br><span class="line">    <span class="comment">// é¦–æ¬¡æ¸²æŸ“ï¼Œç¬¬ä¸€å‚æ•°ä¸ºçœŸå®DOM</span></span><br><span class="line">    vm.$el = vm.__patch__(vm.$el, vnode, hydrating, <span class="literal">false</span> <span class="comment">/* removeOnly */</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// åç»­æ•°æ®æ›´æ–°æ¸²æŸ“ï¼Œç¬¬ä¸€å‚æ•°ä¸ºVNode</span></span><br><span class="line">    vm.$el = vm.__patch__(prevVnode, vnode)</span><br><span class="line">  &#125;</span><br><span class="line">  activeInstance = prevActiveInstance</span><br><span class="line">  <span class="comment">// update __vue__ reference</span></span><br><span class="line">  <span class="keyword">if</span> (prevEl) &#123;</span><br><span class="line">    prevEl.__vue__ = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (vm.$el) &#123;</span><br><span class="line">    vm.$el.__vue__ = vm</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// if parent is an HOC, update its $el as well</span></span><br><span class="line">  <span class="keyword">if</span> (vm.$vnode &amp;&amp; vm.$parent &amp;&amp; vm.$vnode === vm.$parent._vnode) &#123;</span><br><span class="line">    vm.$parent.$el = vm.$el</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// updated hook is called by the scheduler to ensure that children are</span></span><br><span class="line">  <span class="comment">// updated in a parent's updated hook.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é¡µé¢æ¸²æŸ“"><a href="#é¡µé¢æ¸²æŸ“" class="headerlink" title="é¡µé¢æ¸²æŸ“"></a>é¡µé¢æ¸²æŸ“</h3><p>é¡µé¢æ¸²æŸ“ä¸»è¦åœ¨<code>__patch__</code>ä¸­å®ç°çš„ï¼Œ<br>éæµè§ˆå™¨ï¼ˆä¸€èˆ¬ä¸ºæœåŠ¡å™¨ï¼‰ä¸éœ€è¦é¡µé¢æ¸²æŸ“ï¼Œé¦–å…ˆè¿›è¡Œåˆ¤æ–­</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">Vue.prototype.__patch__ = inBrowser ? patch : noop</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ patch ä¸º</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> nodeOps <span class="keyword">from</span> <span class="string">'web/runtime/node-ops'</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPatchFunction &#125; <span class="keyword">from</span> <span class="string">'core/vdom/patch'</span></span><br><span class="line"><span class="keyword">import</span> baseModules <span class="keyword">from</span> <span class="string">'core/vdom/modules/index'</span></span><br><span class="line"><span class="keyword">import</span> platformModules <span class="keyword">from</span> <span class="string">'web/runtime/modules/index'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the directive module should be applied last, after all</span></span><br><span class="line"><span class="comment">// built-in modules have been applied.</span></span><br><span class="line"><span class="keyword">const</span> modules = platformModules.concat(baseModules)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> patch: <span class="built_in">Function</span> = createPatchFunction(&#123; nodeOps, modules &#125;)</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨ç«¯çš„ nodeOps ä¸­åŒ…å«æ“ä½œ DOM çš„æ–¹æ³•ï¼ŒåŒ…å«åŸç”Ÿ DOM ç”Ÿæˆä¸äº¤äº’ç­‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">createTextNode</span>(<span class="params">text: string</span>): <span class="title">Text</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">document</span>.createTextNode(text)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">removeChild</span>(<span class="params">node: Node, child: Node</span>) </span>&#123;</span><br><span class="line">  node.removeChild(child)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">appendChild</span>(<span class="params">node: Node, child: Node</span>) </span>&#123;</span><br><span class="line">  node.appendChild(child)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>modules åŒ…å«åŸºç¡€å…¬å…±æ¨¡å— baseModulesï¼Œå¹¶æ ¹æ®ä¸åŒå¹³å°åŒ…å«ä¸åŒçš„æ¨¡å— platformModulesã€‚</p>
<p>baseModules åŒ…å« ref å’Œ directive æ›´è¡Œå’Œæ³¨å†Œï¼Œ<br>æµè§ˆå™¨ç«¯çš„ platformModules åŒ…å«å±æ€§ã€ç±»ã€äº‹ä»¶ç­‰çš„æ“ä½œé’©å­ï¼Œ<br>ç”¨æ¥åˆ›å»ºæˆ–æ›´æ–° DOM ä¸Šå¯¹åº”çš„å†…å®¹ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">createPatchFunction</span> (<span class="params">backend</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i, j</span><br><span class="line">  <span class="keyword">const</span> cbs = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> &#123; modules, nodeOps &#125; = backend</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">patch</span> (<span class="params">oldVnode, vnode, hydrating, removeOnly</span>) </span>&#123;</span><br><span class="line">      ...</span><br><span class="line">      <span class="keyword">const</span> isRealElement = isDef(oldVnode.nodeType)</span><br><span class="line">      <span class="keyword">if</span> (!isRealElement &amp;&amp; sameVnode(oldVnode, vnode)) &#123;</span><br><span class="line">        <span class="comment">// patch existing root node</span></span><br><span class="line">        patchVnode(oldVnode, vnode, insertedVnodeQueue, removeOnly)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// oldVnodeä¸ºé¦–æ¬¡æ¸²æŸ“æ—¶çš„çœŸå®DOM</span></span><br><span class="line">        <span class="keyword">if</span> (isRealElement) &#123;</span><br><span class="line">          ...</span><br><span class="line">          <span class="comment">// å°†çœŸå®DOMæ”¹ä¸ºç©ºçš„Vnode</span></span><br><span class="line">          oldVnode = emptyNodeAt(oldVnode)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// replacing existing element</span></span><br><span class="line">        <span class="keyword">const</span> oldElm = oldVnode.elm</span><br><span class="line">        <span class="keyword">const</span> parentElm = nodeOps.parentNode(oldElm)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// create new node</span></span><br><span class="line">        createElm(</span><br><span class="line">          vnode,</span><br><span class="line">          insertedVnodeQueue,</span><br><span class="line">          <span class="comment">// extremely rare edge case: do not insert if old element is in a</span></span><br><span class="line">          <span class="comment">// leaving transition. Only happens when combining transition +</span></span><br><span class="line">          <span class="comment">// keep-alive + HOCs. (#4590)</span></span><br><span class="line">          oldElm._leaveCb ? <span class="literal">null</span> : parentElm,</span><br><span class="line">          nodeOps.nextSibling(oldElm)</span><br><span class="line">        )</span><br><span class="line">        ...</span><br><span class="line">      &#125;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> vnode.elm</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨ createElm è¿›è¡ŒçœŸå® DOM æ¸²æŸ“</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createElm</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  vnode,</span></span></span><br><span class="line"><span class="function"><span class="params">  insertedVnodeQueue,</span></span></span><br><span class="line"><span class="function"><span class="params">  parentElm,</span></span></span><br><span class="line"><span class="function"><span class="params">  refElm,</span></span></span><br><span class="line"><span class="function"><span class="params">  nested,</span></span></span><br><span class="line"><span class="function"><span class="params">  ownerArray,</span></span></span><br><span class="line"><span class="function"><span class="params">  index</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ›å»ºç»„ä»¶èŠ‚ç‚¹</span></span><br><span class="line">  <span class="keyword">if</span> (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> data = vnode.data</span><br><span class="line">  <span class="keyword">const</span> children = vnode.children</span><br><span class="line">  <span class="keyword">const</span> tag = vnode.tag</span><br><span class="line">  <span class="keyword">if</span> (isDef(tag)) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// åŸç”ŸAPIåˆ›å»ºçœŸå®DOM</span></span><br><span class="line">    vnode.elm = vnode.ns</span><br><span class="line">      ? nodeOps.createElementNS(vnode.ns, tag)</span><br><span class="line">      : nodeOps.createElement(tag, vnode)</span><br><span class="line">    setScope(vnode)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* istanbul ignore if */</span></span><br><span class="line">    <span class="keyword">if</span> (__WEEX__) &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      createChildren(vnode, children, insertedVnodeQueue)</span><br><span class="line">      <span class="comment">// æ’å…¥åˆ°DOM</span></span><br><span class="line">      insert(parentElm, vnode.elm, refElm)</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>createChildren ä¸­é€’å½’è°ƒç”¨ createElm æ¥å°†æ„å»ºçœŸå®èŠ‚ç‚¹</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createChildren</span>(<span class="params">vnode, children, insertedVnodeQueue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(children)) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; children.length; ++i) &#123;</span><br><span class="line">      createElm(</span><br><span class="line">        children[i],</span><br><span class="line">        insertedVnodeQueue,</span><br><span class="line">        <span class="comment">// å½“å‰èŠ‚ç‚¹ä½œä¸ºçˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        vnode.elm,</span><br><span class="line">        <span class="literal">null</span>,</span><br><span class="line">        <span class="literal">true</span>,</span><br><span class="line">        children,</span><br><span class="line">        i</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isPrimitive(vnode.text)) &#123;</span><br><span class="line">    nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(<span class="built_in">String</span>(vnode.text)))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åå‡½æ•°æŠ€å·§"><a href="#åå‡½æ•°æŠ€å·§" class="headerlink" title="åå‡½æ•°æŠ€å·§"></a>åå‡½æ•°æŠ€å·§</h3><p>å¯ä»¥çœ‹åˆ° createPatchFunction æœ€åè¿”å›å°±æ˜¯ä¸€ä¸ª patch å‡½æ•°,<br>è¿™é‡Œï¼Œæœ‰ä¸€ä¸ªæŠ€å·§ç‚¹ï¼Œvue ç»•äº†ä¸€åœˆï¼Œæ²¡æœ‰å°†</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> patch: <span class="built_in">Function</span> = createPatchFunction(&#123; nodeOps, modules &#125;)</span><br></pre></td></tr></table></figure>
<p>å†™æˆ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> patch (oldVnode, vnode, hydrating, removeOnly, nodeOps, modules)&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œåˆ©ç”¨é—­åŒ…ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå«åå‡½æ•°çš„æŠ€å·§ï¼Œ<br>å°†å¹³å°å·®å¼‚åŒ–çš„å‚æ•°æå‰ä¼ å…¥ï¼Œåç»­ä½¿ç”¨æ—¶ä¸å†å¤šä¼ å›ºå®šå‚æ•°ã€‚<br>ç®€åŒ–æ¥çœ‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPatchFunction</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path (b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> patchWeb = createPatchFunction(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">const</span> patchWeex = createPatchFunction(<span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><ul>
<li>Bulletin</li>
</ul>
<p>æœ¬æ–‡é¦–å‘äº <a href="http://www.skyline.show">skyline.show</a> æ¬¢è¿è®¿é—®ã€‚</p>
<blockquote>
<p>I am a bucolic migant worker but I never walk backwards.</p>
</blockquote>
<ul>
<li>Material</li>
</ul>
<p>å‚è€ƒèµ„æ–™å¦‚ä¸‹åˆ—å‡ºï¼Œéƒ¨åˆ†å¼•ç”¨å¯èƒ½é—æ¼æˆ–ä¸å¯è€ƒï¼Œä¾µåˆ ã€‚</p>
<blockquote>
<p><a href="https://ustbhuangyi.github.io/vue-analysis/v2/prepare/" target="_blank" rel="noopener">https://ustbhuangyi.github.io/vue-analysis/v2/prepare/</a></p>
</blockquote>
<ul>
<li>Warrant</li>
</ul>
<p>æœ¬æ–‡ä½œè€…ï¼š Skyline(lty)</p>
<p>æ–‡ç« é“¾æ¥ï¼š<a href="http://www.skyline.show/Vueæ•°æ®é©±åŠ¨åŸç†.html">http://www.skyline.show/Vue æ•°æ®é©±åŠ¨åŸç†.html</a></p>
<p>æˆæƒå£°æ˜ï¼š æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œ å‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a> åè®®ã€‚ è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: 'å¦‚æœè§‰å¾—æˆ‘çš„æ–‡ç« å¯¹æ‚¨æœ‰ç”¨ï¼Œè¯·éšæ„æ‰“èµã€‚æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ!', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæ ‡é¢˜
  btnText: 'æ‰“èµæ”¯æŒ', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæŒ‰é’®æ–‡å­—
  el: document.getElementById('donation_div'),
  wechatImage: 'http://ovhogx4rt.bkt.clouddn.com/wechatpay.jpg',
  alipayImage: 'http://ovhogx4rt.bkt.clouddn.com/alipay.jpg'
});
</script>
      
      
        
	<div id="comment">
		<!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
		</div>
		<!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
	</div>



      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/åŸç†/">åŸç†</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/CSSåŸºç¡€å¸ƒå±€.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          CSSåŸºç¡€å¸ƒå±€
        
      </div>
    </a>
  
  
    <a href="/Vueæ¸²æŸ“æœºåˆ¶.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">Vueæ¸²æŸ“æœºåˆ¶</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ•°æ®é©±åŠ¨æµç¨‹"><span class="nav-number">1.</span> <span class="nav-text">æ•°æ®é©±åŠ¨æµç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#init"><span class="nav-number">2.</span> <span class="nav-text">init</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°"><span class="nav-number">2.1.</span> <span class="nav-text">åˆå§‹åŒ–æ•°æ®ä¸åŠŸèƒ½å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¿›è¡Œæ•°æ®ä»£ç†"><span class="nav-number">2.2.</span> <span class="nav-text">è¿›è¡Œæ•°æ®ä»£ç†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mount"><span class="nav-number">3.</span> <span class="nav-text">mount</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-prototype-mount"><span class="nav-number">3.1.</span> <span class="nav-text">Vue.prototype.$mount</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¨¡ç‰ˆç¼–è¯‘"><span class="nav-number">3.2.</span> <span class="nav-text">æ¨¡ç‰ˆç¼–è¯‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ›å»º-watcher-å®ä¾‹"><span class="nav-number">3.3.</span> <span class="nav-text">åˆ›å»º watcher å®ä¾‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#render"><span class="nav-number">4.</span> <span class="nav-text">render</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-prototype-render"><span class="nav-number">4.1.</span> <span class="nav-text">Vue.prototype._render</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#createElement-åˆ›å»º-Vnode"><span class="nav-number">4.2.</span> <span class="nav-text">createElement åˆ›å»º Vnode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ ‘å½¢ç»“æ„æ‰å¹³åŒ–"><span class="nav-number">4.3.</span> <span class="nav-text">æ ‘å½¢ç»“æ„æ‰å¹³åŒ–</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#update"><span class="nav-number">5.</span> <span class="nav-text">update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-prototype-update"><span class="nav-number">5.1.</span> <span class="nav-text">Vue.prototype._update</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¡µé¢æ¸²æŸ“"><span class="nav-number">5.2.</span> <span class="nav-text">é¡µé¢æ¸²æŸ“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åå‡½æ•°æŠ€å·§"><span class="nav-number">5.3.</span> <span class="nav-text">åå‡½æ•°æŠ€å·§</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BMW-WARNING"><span class="nav-number">6.</span> <span class="nav-text">BMW WARNING</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p id="copyRightEn">Copyright &copy; 2017 - 2023 é¹§é¸ªå¤© All Rights Reserved.</p>
        <!-- <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p> -->
	      
  		   	<p id="copyRightCn">skyline ä¿ç•™æ‰€æœ‰æƒåˆ©</p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">è®¾ç½®</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              æ­£æ–‡å­—å·å¤§å°
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            æ‚¨å·²è°ƒæ•´é¡µé¢å­—ä½“å¤§å°
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              å¤œé—´æŠ¤çœ¼æ¨¡å¼
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            å¤œé—´æ¨¡å¼å·²ç»å¼€å¯ï¼Œå†æ¬¡å•å‡»æŒ‰é’®å³å¯å…³é—­ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³ äº&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            é¹§é¸ªå¤©
          </div>
          <div class="panel-body">
            Copyright Â© 2023 skyline All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>