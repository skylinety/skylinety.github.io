<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Skyline&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="D1h-KykTKkHWWZvIvkNSIvgrB7xc8KacZZtoIA8asgc">
  <meta name="baidu-site-verification" content="8E0ReY1tJJ">
  
  
  
  
  <meta name="description" content="不瓜，也不怎么爱吃瓜，不好好写字的程序猿不是合格的农民，所以要多爬爬东坡，多亲近方块呀">
<meta property="og:type" content="website">
<meta property="og:title" content="Skyline&#39;s blog">
<meta property="og:url" content="http://www.skyline.show/page/3/index.html">
<meta property="og:site_name" content="Skyline&#39;s blog">
<meta property="og:description" content="不瓜，也不怎么爱吃瓜，不好好写字的程序猿不是合格的农民，所以要多爬爬东坡，多亲近方块呀">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Skyline&#39;s blog">
<meta name="twitter:description" content="不瓜，也不怎么爱吃瓜，不好好写字的程序猿不是合格的农民，所以要多爬爬东坡，多亲近方块呀">
  
    <link rel="alternate" href="/atom.xml" title="Skyline&#39;s blog" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/home.css">
  

  

  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

</head>
</html>


  <body>


  
    <header id="header">
<!-- <a href="https://pages.coding.me" style="position: absolute;bottom: 20px;left: 20px; pointer-events: auto; cursor: pointer;z-index:9"> -->
<!--   <img width="75px" height="75px" src="http://ovhogx4rt.bkt.clouddn.com/f7272a0b7cd340571725c6734c6bdd6f.png" alt="coding">
</a> -->
	<!-- 背景图模式 -->
	

    
      <div id="intrologo" class="intro-logo" style="background-position:center; background-repeat:no-repeat; background-image: url(); background-size: auto 100%;">

      <!-- Support rolling -->  
        
        <section class="awSlider">
          <div class="carousel slide carousel-fade " data-ride="carousel">

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
               
                  
                    <div class="item active">
                  
                    <img id="carousel-img0" src="/css/images/home-bg.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img0 = new Image();
                      var imageTag0 = document.getElementById("carousel-img0");
                      img0.src = imageTag0.src;
                      img0.onload=function(){
                        if (img0.width / img0.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag0.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag0.style.height = document.body.clientHeight + "px";
                          imageTag0.style.marginLeft = -(document.body.clientHeight * img0.width / img0.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img1" src="/css/images/sample.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img1 = new Image();
                      var imageTag1 = document.getElementById("carousel-img1");
                      img1.src = imageTag1.src;
                      img1.onload=function(){
                        if (img1.width / img1.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag1.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag1.style.height = document.body.clientHeight + "px";
                          imageTag1.style.marginLeft = -(document.body.clientHeight * img1.width / img1.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img2" src="https://source.unsplash.com/collection/954550/1920x1080">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img2 = new Image();
                      var imageTag2 = document.getElementById("carousel-img2");
                      img2.src = imageTag2.src;
                      img2.onload=function(){
                        if (img2.width / img2.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag2.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag2.style.height = document.body.clientHeight + "px";
                          imageTag2.style.marginLeft = -(document.body.clientHeight * img2.width / img2.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href=".carousel" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Geri</span>
            </a>
            <a class="right carousel-control" href=".carousel" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">İleri</span>
            </a>
          </div>
        </section>
        <script>
          $('section.awSlider .carousel').carousel({
              pause: '',
              interval: 5000
          });
          var startImage = $('section.awSlider .item.active > img').attr('src');
          $('section.awSlider .carousel').on('slid.bs.carousel', function () {
              var bscn = $(this).find('.item.active > img').attr('src');
              $('section.awSlider > img').attr('src', bscn);
          });
        </script>
      

    
 


    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      <!-- 折线Polyline背景 -->
      
    </script>

    
      <div id="homelogo" class="homelogo"> 
    

        
<!--           <div class="homelogoback"   >
              <h1><a href="#content" id="logo">Skyline&#39;s blog</a></h1>
              <h3>不瓜，也不怎么爱吃瓜，不好好写字的程序猿不是合格的农民，所以要多爬爬东坡，多亲近方块呀</h3>
          </div> -->
<div class="container-logo">
    <div class="animation-container">
        <div class="animated-bg top"></div>
        <div class="animated-bg right"></div>
        <div class="animated-bg left"></div>
        <div class="animated-bg bottom"></div>
    </div>
          <div class="homelogoback content"   >
            <div class="text">
              <h1><a href="#content" id="logo">Skyline&#39;s blog</a></h1>
              <h3><a href="#content">不瓜，也不怎么爱吃瓜，不好好写字的程序猿不是合格的农民，所以要多爬爬东坡，多亲近方块呀</a></h3>
              <!-- <h5>skyline</h5> -->
              <!-- <p><a href="https://github.com/iTimeTraveler" target="_blank">Github</a></p> -->
            </div>
          </div>
        
</div>
        
    
    </div>
  </div>

  <!-- 自适应主页背景大图 -->
  

 <!-- home_logo_image居中 -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        homelogodiv.style.width = document.body.clientWidth + "px";
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          // homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          // homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

<!--   <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">首页</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">归档</a>
        
          <a id="beautifont" class="main-nav-link" href="/categories">分类</a>
        
          <a id="beautifont" class="main-nav-link" href="/tags">标签</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">关于</a>
        
      </p>
  </div> -->
<content>
    <menu>
        <label for="trigger">
            <input id="trigger" type="checkbox" />
            <section class="drawer-list">
                <ul>
                    
                      <li><a id="beautifont" class="main-nav-link" href="/">首页</a></li>
                    
                      <li><a id="beautifont" class="main-nav-link" href="/archives">归档</a></li>
                    
                      <li><a id="beautifont" class="main-nav-link" href="/categories">分类</a></li>
                    
                      <li><a id="beautifont" class="main-nav-link" href="/tags">标签</a></li>
                    
                      <li><a id="beautifont" class="main-nav-link" href="/about">关于</a></li>
                    
<!--                     <li><a href="#">home</a>
                    </li>
                    <li><a href="#">pricing</a>
                    </li>
                    <li><a href="#">about</a>
                    </li>
                    <li><a href="#">contact us</a>
                    </li> -->

                </ul>
                <a href="https://pages.coding.me" style="position: absolute;bottom: 20px;right: 20px; pointer-events: auto; cursor: pointer;">
                  <img width="75px" height="75px" src="http://ovhogx4rt.bkt.clouddn.com/f7272a0b7cd340571725c6734c6bdd6f.png" alt="coding">
                </a>
            </section>
            <hamburger>
                <i></i>
                <text>
                    <close>close</close>
                    <open>menu</open>
                </text>
            </hamburger>
        </label>
    </menu>
</content>
</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="post-ES类的使用"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/ES类的使用.html">ES类的使用</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:16.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="ES-类的使用"><a href="#ES-类的使用" class="headerlink" title="ES 类的使用"></a>ES 类的使用</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#es-类的使用">ES 类的使用</a><ul>
<li><a href="#静态类-实例-原型属性与方法">静态（类）、实例、原型属性与方法</a><ul>
<li><a href="#es5">ES5</a></li>
<li><a href="#es6">ES6</a></li>
<li><a href="#属性访问结论">属性访问结论</a></li>
</ul>
</li>
<li><a href="#class">Class</a><ul>
<li><a href="#原型方法语法糖">原型方法语法糖</a></li>
<li><a href="#class-中属性与方法的枚举性质">Class 中属性与方法的枚举性质</a></li>
</ul>
</li>
<li><a href="#bmw-warning">BMW WARNING</a><ul>
<li><a href="#bulletin">Bulletin</a></li>
<li><a href="#material">Material</a></li>
<li><a href="#Warrant">Warrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="静态（类）、实例、原型属性与方法"><a href="#静态（类）、实例、原型属性与方法" class="headerlink" title="静态（类）、实例、原型属性与方法"></a>静态（类）、实例、原型属性与方法</h2><h3 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h3><p>Baby 类</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//对象构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Baby</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> className = <span class="string">"Baby"</span>;</span><br><span class="line">  <span class="comment">//实例属性，每个实例私有，在对象实例化后调用，实例属性在对象实力化后创建</span></span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.weight = <span class="string">"3kg"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.hello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.msg()); <span class="comment">//使用原型方法扩充的方法可以在类内部使用</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.sex); <span class="comment">//使用原型方法扩充的属性可以在类内部使用</span></span><br><span class="line">    <span class="built_in">console</span>.log(Baby.age, <span class="keyword">this</span>.age); <span class="comment">//静态属性调用时格式为[对象.静态属性]</span></span><br><span class="line">  &#125;; <span class="comment">//对象方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类方法 (实际是静态方法直接调用)，只有类才能访问类方法，实例不能访问 ，在类方法中通过this只能访问类属性不能访问其他属性，即在本例中，Run方法只能访问到this.age</span></span><br><span class="line">Baby.Run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"跑起来！！！"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//原型方法，如果原型方法当作静态方法直接调用时，this.name无法被调用</span></span><br><span class="line">Baby.prototype.msg = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"我叫："</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类属性 在类的外部。公有静态属性不能使用 【this.属性】，只能使用 【对象.属性】 调用，只有类才能访问类属性，实例不能访问</span></span><br><span class="line">Baby.age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//原型属性，所有实例共有，【this.属性】这种写法访问时，先会访问实例对象属性，没有实例对象属性就会访问原型属性 ，也可以当成公有静态属性使用【对象.prototype.原型属性。</span></span><br><span class="line">Baby.prototype.sex = <span class="string">"男娃娃"</span>;</span><br></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//实例方法和原型方法需要实例化对象后才可以使</span></span><br><span class="line"><span class="keyword">var</span> bob = <span class="keyword">new</span> Baby(<span class="string">"bob"</span>);</span><br><span class="line">Baby.name;</span><br><span class="line"><span class="comment">//"Baby" :每一个类都有一个基本的name属性</span></span><br><span class="line"></span><br><span class="line">bob.name;</span><br><span class="line"><span class="comment">//"bob"</span></span><br><span class="line"></span><br><span class="line">Baby.weight;</span><br><span class="line"><span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">bob.weight;</span><br><span class="line"><span class="comment">//"3kg"</span></span><br><span class="line"></span><br><span class="line">Baby.hello();</span><br><span class="line"><span class="comment">//Uncaught TypeError: Baby.hello is not a function</span></span><br><span class="line"></span><br><span class="line">bob.hello();</span><br><span class="line"><span class="comment">// bob</span></span><br><span class="line"><span class="comment">// 我叫：bob</span></span><br><span class="line"><span class="comment">// undefined :this.msg没有返回所以undefined</span></span><br><span class="line"><span class="comment">// 男娃娃</span></span><br><span class="line"><span class="comment">// 20 undefined</span></span><br><span class="line"></span><br><span class="line">Baby.Run(); <span class="comment">//跑起来！！！</span></span><br><span class="line"><span class="comment">//类方法也是静态方法，可以直接使用 【对象.静态方法()】</span></span><br><span class="line"></span><br><span class="line">bob.run(); <span class="comment">// TypeError: bob.run is not a function</span></span><br><span class="line"></span><br><span class="line">Baby.msg();</span><br><span class="line"><span class="comment">// Uncaught TypeError: Baby.msg is not a function</span></span><br><span class="line"></span><br><span class="line">Baby.prototype.msg();</span><br><span class="line"><span class="comment">// 我叫：undefined</span></span><br><span class="line"><span class="comment">//原型方法当成静态方法使用时【对象.prototype.方法()】</span></span><br><span class="line"></span><br><span class="line">bob.msg();</span><br><span class="line"><span class="comment">// 我叫：bob</span></span><br><span class="line"><span class="comment">//原型方法必须实例化对象</span></span><br><span class="line"></span><br><span class="line">bob.age;</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="comment">//错误，公有静态属性只能使用 【对象.属性】调用</span></span><br><span class="line"></span><br><span class="line">Baby.age;</span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line">Baby.prototype.sex;</span><br><span class="line"><span class="comment">// 男娃娃</span></span><br><span class="line"><span class="comment">//原型属性当作静态属性使用时【对象.prototype.方法()】</span></span><br><span class="line"></span><br><span class="line">Baby.sex;</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">bob.sex;</span><br><span class="line"><span class="comment">// 男娃娃</span></span><br></pre></td></tr></table></figure>
<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p>Baby 类</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Baby</span> </span>&#123;</span><br><span class="line">  <span class="comment">//实例属性、方法</span></span><br><span class="line">  eat = <span class="string">"meat"</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">    <span class="comment">//实例属性、方法</span></span><br><span class="line">    <span class="keyword">this</span>.firstName = x;</span><br><span class="line">    <span class="keyword">this</span>.lastName = y;</span><br><span class="line">    <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"skyline"</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//原型属性，使用存取器</span></span><br><span class="line">  <span class="keyword">get</span> prop() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"skyline getter"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> prop(value) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"skyline setter: "</span> + value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//原型方法</span></span><br><span class="line"></span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"("</span> + <span class="keyword">this</span>.firstName + <span class="string">", "</span> + <span class="keyword">this</span>.lastName + <span class="string">")"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//类方法</span></span><br><span class="line">  <span class="keyword">static</span> hello() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hello skyline"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> hi() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.hello; <span class="comment">//如果静态方法包含this关键字，这个this指的是类，而不是实例</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//类属性，ES6 在当前阶段，Class 内部只有静态方法，没有静态属性，可以直接指定类（静态）属性</span></span><br><span class="line">Baby.age = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h3 id="属性访问结论"><a href="#属性访问结论" class="headerlink" title="属性访问结论"></a>属性访问结论</h3><p>不论是那种方式建立，遵循以下结论</p>
<ul>
<li>静态属性方法，可以直接通过类进行访问的</li>
<li>实例属性方法是需要创建实例对象进行访问的</li>
<li>静态与实例之间的属性与方法不能互访</li>
</ul>
<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><h3 id="原型方法语法糖"><a href="#原型方法语法糖" class="headerlink" title="原型方法语法糖"></a>原型方法语法糖</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>对于 ES6 的 Baby 类的 toString</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">toString() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'('</span> + <span class="keyword">this</span>.firstName + <span class="string">', '</span> + <span class="keyword">this</span>.lastName + <span class="string">')'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES5 中可以看做是如下代码的语法糖</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Point.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"("</span> + <span class="keyword">this</span>.firstName + <span class="string">", "</span> + <span class="keyword">this</span>.lastName + <span class="string">")"</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Class-中属性与方法的枚举性质"><a href="#Class-中属性与方法的枚举性质" class="headerlink" title="Class 中属性与方法的枚举性质"></a>Class 中属性与方法的枚举性质</h3><p>Reflect.ownKeys 可列出所有自有属性，不管枚举与否。<br>Object.keys 可列出可枚举的自有属性。</p>
<p>实例属性可枚举</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> skyline = <span class="keyword">new</span> Baby(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(skyline);</span><br><span class="line"><span class="comment">// (4) ['eat', 'firstName', 'lastName', 'say']</span></span><br><span class="line"><span class="built_in">Object</span>.keys(skyline);</span><br><span class="line"><span class="comment">// (4) ['eat', 'firstName', 'lastName', 'say']</span></span><br></pre></td></tr></table></figure>
<p>原型属性与方法不可枚举，这与 ES5 中原型属性方法不同，其是可枚举的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Reflect</span>.ownKeys(skyline.__proto__);</span><br><span class="line"><span class="comment">// (3) ['constructor', 'prop', 'toString']</span></span><br><span class="line"><span class="built_in">Object</span>.keys(skyline.__proto__);</span><br><span class="line"><span class="comment">//[]</span></span><br></pre></td></tr></table></figure>
<h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><h3 id="Bulletin"><a href="#Bulletin" class="headerlink" title="Bulletin"></a>Bulletin</h3><p>本文首发于 <a href="skyline.show">skyline.show</a> 欢迎访问。</p>
<blockquote>
<p>I am a bucolic migrant worker but I never walk backwards.</p>
</blockquote>
<h3 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h3><p>参考资料如下列出，部分引用可能遗漏或不可考，侵删。</p>
<blockquote>
</blockquote>
<h3 id="Warrant"><a href="#Warrant" class="headerlink" title="Warrant"></a>Warrant</h3><p>本文作者： Skyline(lty)<br>授权声明： 本博客所有文章除特别声明外， 均采用 CC BY - NC - SA 3.0 协议。 转载请注明出处！</p>
<blockquote>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a></p>
</blockquote>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/ES类的使用.html](http://www.skyline.show/ES类的使用.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Shadowsocks服务搭建与访问"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/Shadowsocks服务搭建与访问.html">Shadowsocks服务搭建与访问</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:16.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="Shadowsocks-服务搭建与访问"><a href="#Shadowsocks-服务搭建与访问" class="headerlink" title="Shadowsocks 服务搭建与访问"></a>Shadowsocks 服务搭建与访问</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#shadowsocks-服务搭建与访问">Shadowsocks 服务搭建与访问</a><ul>
<li><a href="#ss-server">SS server</a><ul>
<li><a href="#安装">安装</a></li>
<li><a href="#配置文件">配置文件</a></li>
<li><a href="#开启服务">开启服务</a></li>
<li><a href="#开机启动">开机启动</a></li>
</ul>
</li>
<li><a href="#ss-client">SS client</a></li>
<li><a href="#添加自定代理规则">添加自定代理规则</a></li>
<li><a href="#常见问题">常见问题</a><ul>
<li><a href="#配置完成无法访问墙外">配置完成无法访问墙外</a></li>
<li><a href="#syn_recv">SYN_RECV</a></li>
<li><a href="#ip或端口被封">IP或端口被封</a></li>
</ul>
</li>
<li><a href="#bmw-warning">BMW WARNING</a><ul>
<li><a href="#bulletin">Bulletin</a></li>
<li><a href="#material">Material</a></li>
<li><a href="#warrant">Warrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="SS-server"><a href="#SS-server" class="headerlink" title="SS server"></a>SS server</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>SS server 服务端有多语言版本支持<br>此处采用 python 版本<br>首先安装 pip 包管理器</p>
<p>Debian / Ubuntu</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install python-pip</span><br></pre></td></tr></table></figure>
<p>CentOS</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install epel-release # 添加Enterprise Linux企业源</span><br><span class="line">sudo yum install python-pip</span><br></pre></td></tr></table></figure>
<p>查看是否安装成功</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip --version</span><br><span class="line"><span class="meta">#</span><span class="bash"> pip 8.1.2 from /usr/lib/python2.7/site-packages (python 2.7)</span></span><br></pre></td></tr></table></figure>
<p>然后直接输入以下命令安装</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sudo pip install shadowsocks</span><br></pre></td></tr></table></figure>
<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>新增配置文件<br><code>/etc/shadowsocks.json</code></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"server"</span>: <span class="string">"23.234.212.12"</span>,</span><br><span class="line">  <span class="attr">"port_password"</span>: &#123;</span><br><span class="line">    <span class="attr">"8388"</span>: <span class="string">"123"</span>,</span><br><span class="line">    <span class="attr">"8389"</span>: <span class="string">"456"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"timeout"</span>: <span class="number">300</span>,</span><br><span class="line">  <span class="attr">"method"</span>: <span class="string">"rc4-md5"</span>,</span><br><span class="line">  <span class="attr">"fast_open"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"workers"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>server</td>
<td>vps ip 地址</td>
</tr>
<tr>
<td>port_password</td>
<td>服务端口和对应密码</td>
</tr>
<tr>
<td>method</td>
<td>加密方法</td>
</tr>
<tr>
<td>workers</td>
<td>线程数</td>
</tr>
</tbody>
</table>
<h3 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h3><p>调用命令开启服务。<br>相关命令如下</p>
<ul>
<li>指定配置文件开启服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo ssserver -c /etc/shadowsocks.json -d start</span><br></pre></td></tr></table></figure>
<ul>
<li>指定配置文件重启</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo ssserver -c /etc/shadowsocks.json -d restart</span><br></pre></td></tr></table></figure>
<ul>
<li>关闭服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo ssserver -d stop</span><br></pre></td></tr></table></figure>
<h3 id="开机启动"><a href="#开机启动" class="headerlink" title="开机启动"></a>开机启动</h3><pre><code>&lt;!--more--&gt;
</code></pre><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vi /etc/rc.local</span><br></pre></td></tr></table></figure>
<p>然后将如下开启服务的命令添加进去即可。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssserver -c /etc/shadowsocks.json -d start</span><br></pre></td></tr></table></figure>
<h2 id="SS-client"><a href="#SS-client" class="headerlink" title="SS client"></a>SS client</h2><p>在如下位置新增服务配置<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Shadowsocks%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E4%B8%8E%E8%AE%BF%E9%97%AE20211210170145.png" alt="Shadowsocks服务搭建与访问20211210170145"><br>与服务端配置对应<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Shadowsocks%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E4%B8%8E%E8%AE%BF%E9%97%AE20211210170258.png" alt="Shadowsocks服务搭建与访问20211210170258"><br>选择全局或者 PAC 模式，浏览器输入科学上网网址即可</p>
<h2 id="添加自定代理规则"><a href="#添加自定代理规则" class="headerlink" title="添加自定代理规则"></a>添加自定代理规则</h2><p>部分网站国内访问较慢，但是 PAC 规则中没有，可以添加用户自定义规则<br>点击 Edit User Rules For PAC<br>添加规则如下</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">! Put user rules line by line <span class="keyword">in</span> <span class="keyword">this</span> file.</span><br><span class="line">! See https:<span class="comment">//adblockplus.org/en/filter-cheatsheet</span></span><br><span class="line">“||https:<span class="comment">//github.com/^”,</span></span><br><span class="line">“||https:<span class="comment">//raw.githubusercontent.com^”</span></span><br></pre></td></tr></table></figure>
<p>注意逗号和引号不要遗漏</p>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="配置完成无法访问墙外"><a href="#配置完成无法访问墙外" class="headerlink" title="配置完成无法访问墙外"></a>配置完成无法访问墙外</h3><ul>
<li>IP 检查</li>
</ul>
<p>检查 vps ip 是否被封<br>在<a href="http://ping.pe/下输入ip" target="_blank" rel="noopener">http://ping.pe/下输入ip</a></p>
<p>异常情况<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Shadowsocks%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E4%B8%8E%E8%AE%BF%E9%97%AE20211210170940.png" alt="Shadowsocks服务搭建与访问20211210170940"><br>正常情况下面部分为绿色<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/Shadowsocks%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E4%B8%8E%E8%AE%BF%E9%97%AE20211210171222.png" alt="Shadowsocks服务搭建与访问20211210171222"></p>
<p>ip 异常需要向 vps 提供商发起工单。</p>
<ul>
<li>防火墙检查</li>
</ul>
<p>若 ip 正常，检查 vps 防火墙。<br>CentOS7 等版本默认防火墙非常严格，一般端口都屏蔽都外部访问。<br>关闭防火墙测试是否能访问<br>centos7 关闭防火墙使用如下命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl stop firewalld</span><br></pre></td></tr></table></figure>
<p>检查是否可正常访问。<br>若是防火墙问题，暴露对应端口即可，不要关闭防火墙。</p>
<p>打开防火墙的命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl start firewalld</span><br></pre></td></tr></table></figure>
<p>暴露端口段</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --permanent --add-port 8300-8400/tcp</span><br></pre></td></tr></table></figure>
<p>或直接指定端口</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --permanent --add-port 1191/tcp</span><br></pre></td></tr></table></figure>
<p>暴露后需要重启防火墙</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<p>查看暴露的端口</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd  --list-ports</span><br><span class="line"><span class="meta">#</span><span class="bash"> 8300-8400/tcp</span></span><br></pre></td></tr></table></figure>
<h3 id="SYN-RECV"><a href="#SYN-RECV" class="headerlink" title="SYN_RECV"></a>SYN_RECV</h3><p>通过<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">netstat -anp | grep 88</span><br></pre></td></tr></table></figure></p>
<p>grep后接自己暴露的端口前缀。</p>
<p>可以看到，有大量tcp处于SYN_RECV状态。<br>这是由于TCP最后一次握手回传的ACK包丢失导致。<br>大概率由于GFW嗅探到当前连接导致。<br>可以进行如下尝试。<br>更换端口，查看可否访问<br>更换不同网络ISP（移动、联通、电信等）尝试。<br>这时，最好尝试用其他方法搭建服务</p>
<h3 id="IP或端口被封"><a href="#IP或端口被封" class="headerlink" title="IP或端口被封"></a>IP或端口被封</h3><h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><h3 id="Bulletin"><a href="#Bulletin" class="headerlink" title="Bulletin"></a>Bulletin</h3><p>本文首发于 <a href="skyline.show">skyline.show</a> 欢迎访问。</p>
<blockquote>
<p>I am a bucolic migrant worker but I never walk backwards.</p>
</blockquote>
<h3 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h3><p>参考资料如下列出，部分引用可能遗漏或不可考，侵删。</p>
<blockquote>
</blockquote>
<h3 id="Warrant"><a href="#Warrant" class="headerlink" title="Warrant"></a>Warrant</h3><p>本文作者： Skyline(lty)<br>授权声明： 本博客所有文章除特别声明外， 均采用 CC BY - NC - SA 3.0 协议。 转载请注明出处！</p>
<blockquote>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a></p>
</blockquote>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/Shadowsocks服务搭建与访问.html](http://www.skyline.show/Shadowsocks服务搭建与访问.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-frp内网穿透"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/frp内网穿透.html">frp内网穿透</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="frp-内网穿透"><a href="#frp-内网穿透" class="headerlink" title="frp 内网穿透"></a>frp 内网穿透</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>frp 是一款开源的内网穿透软件，github 主页为：<a href="https://github.com/fatedier/frp" target="_blank" rel="noopener">https://github.com/fatedier/frp</a><br>其架构如下图所示：<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117182759.png" alt="20220117182759"></p>
<h2 id="Server-端"><a href="#Server-端" class="headerlink" title="Server 端"></a>Server 端</h2><h3 id="下载包"><a href="#下载包" class="headerlink" title="下载包"></a>下载包</h3><p>在 Release 页面下载服务器 CPU 架构对应的版本 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener">https://github.com/fatedier/frp/releases</a><br>如果不知道，可以通过 lscpu 命令查看，一般为 arm_64 位或 X86_64 位。<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117185544.png" alt="20220117185544"><br>确定后通过 weget 命令下载。如 X86_64 对应下载为</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">weget https://github.com/fatedier/frp/releases/download/v0.38.0/frp_0.38.0_freebsd_amd64.tar.gz</span><br></pre></td></tr></table></figure>
<p>github国内速度较慢，也可通过迅雷等工具下载到本地后通过 SecureCRT 等工具上传.</p>
<h3 id="试运行"><a href="#试运行" class="headerlink" title="试运行"></a>试运行</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar -zxvf frp_0.38.0_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure>
<p>解压成功后<br>打开目录下的 frps.ini 文件，修改如下</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = 7000</span><br><span class="line">token = mima</span><br></pre></td></tr></table></figure>
<p>尝试启动服务</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./frps -c frps.ini</span><br></pre></td></tr></table></figure>
<p>成功一般有 success 提示信息，如果遇到 Segmentation fault 错误，检查下载的包版本是否有错。</p>
<h3 id="后台运行服务"><a href="#后台运行服务" class="headerlink" title="后台运行服务"></a>后台运行服务</h3><p>创建服务文件：<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">touch /etc/systemd/system/frp.service</span><br></pre></td></tr></table></figure></p>
<p>修改 frp.service 内容如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=FRP service</span><br><span class="line">After=network.target syslog.target</span><br><span class="line">Wants=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/root/apps/frp/frps -c /root/apps/frp/frps.ini</span><br><span class="line">Restart=always</span><br><span class="line">User=root</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>重置守护进程服务</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure>
<p>开启服务</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">systemctl start frp</span><br></pre></td></tr></table></figure>
<p>检查服务是否开启成功，查看 7000 端口是否开启服务即可。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">netstat -anp | grep 7000</span><br></pre></td></tr></table></figure>
<p>注意，此处需要在服务器提供网站对应的配置处将 7000 端口的防火墙限制打开，centos 等系统下，注意 firewalld 是否开放防火墙端口。<br>如上操作完成后，服务即后台启动成功。<br>要想服务开机自启动，输入：<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl enable frp</span><br></pre></td></tr></table></figure></p>
<p>即可。</p>
<h2 id="Client-端"><a href="#Client-端" class="headerlink" title="Client 端"></a>Client 端</h2><h3 id="frpc配置"><a href="#frpc配置" class="headerlink" title="frpc配置"></a>frpc配置</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>本文Client 端此处采用 Docker 方式。<br>将下载的 frpc.ini 放在 Docker 宿主机本地<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117194957.png" alt="20220117194957"><br>frpc.ini 内容修改如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr = 42.113.1.102</span><br><span class="line">server_port = 7000</span><br><span class="line">token = mima</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 6000</span><br><span class="line"></span><br><span class="line">[DSM]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 5000</span><br><span class="line">remote_port = 5000</span><br></pre></td></tr></table></figure>
<p>如上配置后，意味着我们之后可以通过 42.113.1.102:5000 来进入群晖，通过 42.113.1.102:22 进入群晖后台。</p>
<h3 id="添加-docker-镜像"><a href="#添加-docker-镜像" class="headerlink" title="添加 docker 镜像"></a>添加 docker 镜像</h3><p><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117195517.png" alt="20220117195517"><br>地址如下：<br><a href="https://hub.docker.com/r/chenhw2/frp" target="_blank" rel="noopener">https://hub.docker.com/r/chenhw2/frp</a><br>下载完成后，双击镜像，做如下三处修改：</p>
<p><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117195707.png" alt="20220117195707"></p>
<p><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117195946.png" alt="20220117195946"></p>
<p><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117200053.png" alt="20220117200053"></p>
<p>应用修改后保存退出。</p>
<h3 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h3><p><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/20220117200151.png" alt="20220117200151"><br>点击开关容器启动成功即可，若启动失败，可在Details查看启动日志。</p>
<p>在外网环境在浏览器输入 42.113.1.102:5000<br>来到群晖登录页即穿透成功。<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F20220118112743.png" alt="frp内网穿透20220118112743"><br>            &nbsp;</p>
<pre><code>&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/frp内网穿透.html](http://www.skyline.show/frp内网穿透.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-CentOS防火墙"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/CentOS防火墙.html">CentOS防火墙</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="CentOS-防火墙"><a href="#CentOS-防火墙" class="headerlink" title="CentOS 防火墙"></a>CentOS 防火墙</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#centos-防火墙">CentOS 防火墙</a><ul>
<li><a href="#firewalld1">firewalld</a><ul>
<li><a href="#concepts">Concepts</a></li>
<li><a href="#zones">Zones</a></li>
<li><a href="#services">Services</a></li>
<li><a href="#runtime">Runtime</a></li>
<li><a href="#state">State</a></li>
<li><a href="#port">Port</a></li>
<li><a href="#source">Source</a></li>
</ul>
</li>
<li><a href="#bmw-warning">BMW WARNING</a><ul>
<li><a href="#bulletin">Bulletin</a></li>
<li><a href="#material">Material</a></li>
<li><a href="#warrant">Warrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="firewalld-1"><a href="#firewalld-1" class="headerlink" title="firewalld[^1]"></a>firewalld[^1]</h2><h3 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h3><p>firewalld 采用区域与服务的概念来控制流量的出入。</p>
<ul>
<li>zones</li>
<li>services</li>
</ul>
<p>firewalld 是 CentOS 7/8, Red Hat Enterprise Linux 7 (RHEL 7), Fedora 18+等 Linux 发行版本默认防火墙程序。<br>其命令行工具为 firewall-cmd</p>
<h3 id="Zones"><a href="#Zones" class="headerlink" title="Zones"></a>Zones</h3><p>zones 预设级别不同的防火墙策略，用户可以自定义 zones，也可以使用预设的 zones。<br>默认使用 public zone<br>根据拦截级别严格程度，预设 zones 如下<br>zone | 拦截说明<br>— | —<br>drop | 丢弃区，所有接入连接都会进行无消息响应拦截，只有输出连接被允许。<br>block | 拦截区，接入连接都会被拦截，会响应 icmp-host-prohibited 等拦截消息，只有输出连接被允许。<br>public | 公共区，用于不受信任的公共区域，仅允许自选接入连接，默认允许 ssh 和 dhcpv6-client<br>external | 外部区，用于外部网络，系统充当网关角色，仅允许自选接入连接，默认允许 ssh<br>internal | 内部区，用于内部网络，系统充当网关角色，仅允许自选接入连接<br>dmz | 隔离区，demilitarized zone（隔离区，军事缓冲区），用于允许部分服务被外网访问，仅允许自选接入连接<br>work | 工作区，用于工作网络，信任网络中其他机器，仅允许自选接入连接，默认允许 ssh，ipp-client 和 dhcpv6-client<br>home | 家庭区，用于工作家庭网络，信任网络中其他机器，仅允许自选接入连接，默认允许 ssh，ipp-client，mdns，samba-client 和 dhcpv6-client<br>trusted | 信任区，并接受所有网络连接</p>
<ul>
<li>新建防火墙区域策略</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --new-zone=memcached --permanent</span><br></pre></td></tr></table></figure>
<ul>
<li>查看系统默认区</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --get-default-zone</span><br><span class="line"><span class="meta">#</span><span class="bash"> public</span></span><br></pre></td></tr></table></figure>
<ul>
<li>调整系统默认区</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --set-default-zone=home</span><br></pre></td></tr></table></figure>
<ul>
<li>系统中配置的所有区</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --get-zones</span><br><span class="line"><span class="meta">#</span><span class="bash"> block dmz drop external home internal public trusted work</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --list-all-zones</span><br><span class="line"><span class="meta">#</span><span class="bash"> 上述命令会打印所有区与其详细的配置，输出内容较长</span></span><br></pre></td></tr></table></figure>
<ul>
<li>查看系统使用区</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --get-active-zones</span><br><span class="line"><span class="meta">#</span><span class="bash"> public</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   interfaces: eth0 eth1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>查看指定区的详细配置</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --list-all</span><br><span class="line"><span class="meta">#</span><span class="bash"> public (active)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   target: default</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   icmp-block-inversion: no</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   interfaces: eth0 eth1</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   sources:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   services: ssh dhcpv6-client</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   ports:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   protocols:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   masquerade: no</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   forward-ports:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   <span class="built_in">source</span>-ports:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   icmp-blocks:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   rich rules:</span></span><br></pre></td></tr></table></figure>
<h3 id="Services"><a href="#Services" class="headerlink" title="Services"></a>Services</h3><p>services 在 zones 中为不同的服务预设不同的配置。<br>例如，可以为服务提供不同的端口等配置</p>
<ul>
<li>查看所有的服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"> sudo firewall-cmd --get-services</span><br><span class="line"><span class="meta">#</span><span class="bash"> RH-Satellite-6 RH-Satellite-6-capsule amanda-client amanda-k5-client amqp amqps... git... ssh ...dhcpv6-client</span></span><br></pre></td></tr></table></figure>
<ul>
<li>查看当前开放的服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"> sudo firewall-cmd --list-services</span><br><span class="line"><span class="meta">#</span><span class="bash"> dhcpv6-client ssh</span></span><br></pre></td></tr></table></figure>
<ul>
<li>增加开放服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --add-service=http</span><br></pre></td></tr></table></figure>
<ul>
<li>移除开放的服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --remove-service=http</span><br><span class="line"><span class="meta">#</span><span class="bash"> 永久配置需要添加 --permanent后缀</span></span><br></pre></td></tr></table></figure>
<p>所有服务的配置都在/usr/lib/firewalld/services 目录下<br>例如 http 服务的配置为</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">service</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">short</span>&gt;</span>WWW (HTTP)<span class="tag">&lt;/<span class="name">short</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>HTTP is the protocol used to serve Web pages. If you plan to make your Web server publicly available, enable this option. This option is not required for viewing pages locally or developing Web pages.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">port</span> <span class="attr">protocol</span>=<span class="string">"tcp"</span> <span class="attr">port</span>=<span class="string">"80"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>自定义服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo cp /usr/lib/firewalld/services/ssh.xml /etc/firewalld/services/diyservice.xml</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">service</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">short</span>&gt;</span>diyservice<span class="tag">&lt;/<span class="name">short</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Plex is a streaming media server that brings all your video, music and photo collections together and stream them to your devices at anytime and from anywhere.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">port</span> <span class="attr">protocol</span>=<span class="string">"udp"</span> <span class="attr">port</span>=<span class="string">"1900"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">port</span> <span class="attr">protocol</span>=<span class="string">"tcp"</span> <span class="attr">port</span>=<span class="string">"32400"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>重启防火墙后就可以看到该服务。</p>
<h3 id="Runtime"><a href="#Runtime" class="headerlink" title="Runtime"></a>Runtime</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>Firewalld 提供运行时与永久两种配置有效期限。</p>
<ul>
<li>runtime</li>
<li>permanent</li>
</ul>
<p>runtime 只有当次开机有效，重启会恢复到默认配置，permanent 会让配置永久生效。<br>默认指定防火墙相关配置时使用的是 runtime。<br>要让指定的配置永久有效，需要指定 –permanent</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd &lt;options&gt;</span><br></pre></td></tr></table></figure>
<p>上述配置生效后只在 runtime 有效</p>
<ul>
<li>要使其永久有效</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --permanent &lt;options&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>使当前 runtime 的所有配置永久有效</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --runtime-to-permanent</span><br></pre></td></tr></table></figure>
<ul>
<li>要让配置立即生效，需要重启进程</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<h3 id="State"><a href="#State" class="headerlink" title="State"></a>State</h3><ul>
<li>查看防火墙状态</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --state</span><br><span class="line"><span class="meta">#</span><span class="bash"> running <span class="comment">#打开状态</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> not running <span class="comment">#关闭状态</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>防火墙完整信息</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --list-all</span><br><span class="line"><span class="meta">#</span><span class="bash"> public (active)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   target: default</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   icmp-block-inversion: no</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   interfaces: eth0</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   sources:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   services: dhcpv6-client ssh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   ports:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   protocols:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   masquerade: no</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   forward-ports:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   <span class="built_in">source</span>-ports:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   icmp-blocks:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   rich rules:</span></span><br></pre></td></tr></table></figure>
<ul>
<li>临时关闭防火墙</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl stop firewalld</span><br></pre></td></tr></table></figure>
<p>上述操作只对当前运行时有效</p>
<ul>
<li>永久关闭防火墙</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl stop firewalld</span><br></pre></td></tr></table></figure>
<p>零时关闭防火墙并防止开机重启</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl disable firewalld</span><br><span class="line"><span class="meta">#</span><span class="bash"> Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span></span><br></pre></td></tr></table></figure>
<p>防止其他程序启动防火墙</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl mask --now firewalld</span><br><span class="line"><span class="meta">#</span><span class="bash"> Created symlink from /etc/systemd/system/firewalld.service to /dev/null.</span></span><br></pre></td></tr></table></figure>
<ul>
<li>打开防火墙</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl start firewalld</span><br></pre></td></tr></table></figure>
<h3 id="Port"><a href="#Port" class="headerlink" title="Port"></a>Port</h3><ul>
<li>暴露端口段</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --permanent --add-port 8300-8400/tcp</span><br></pre></td></tr></table></figure>
<p>协议可选 tcp, udp, sctp, or dccp</p>
<ul>
<li>暴露端口</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --permanent --add-port 1191/tcp</span><br></pre></td></tr></table></figure>
<p>临时暴露需要去除 <code>--permanent</code>，重启后端口暴露将会失效。<br>执行暴露端口的命令后，需要重启防火墙</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<ul>
<li>查看暴露的端口</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd  --list-ports</span><br><span class="line"><span class="meta">#</span><span class="bash"> 8300-8400/tcp</span></span><br></pre></td></tr></table></figure>
<ul>
<li>移除暴露的端口</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --remove-port 8300-8400/tcp --permanent</span><br></pre></td></tr></table></figure>
<p>注意开启时添加了<code>--permanent</code>，关闭时也需要</p>
<ul>
<li>查询允许暴露端口的服务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --list-services</span><br><span class="line"><span class="meta">#</span><span class="bash"> ssh dhcpv6-client http</span></span><br></pre></td></tr></table></figure>
<h3 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h3><ul>
<li>指定允许访问的 IP</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --add-source=192.168.100.30/32 --permanent</span><br><span class="line"><span class="meta">#</span><span class="bash"> sudo firewall-cmd --add-source=192.168.100.30 --permanent</span></span><br></pre></td></tr></table></figure>
<ul>
<li>查看允许访问的 IP</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --list-sources</span><br></pre></td></tr></table></figure>
<ul>
<li>移除指定的 IP</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=public --remove-source=192.168.1.10</span><br></pre></td></tr></table></figure>
<ul>
<li>转发</li>
</ul>
<p>在进行转发前，需要开启转发支持</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=external --add-masquerade --permanent</span><br></pre></td></tr></table></figure>
<p>同主机</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=external --add-forward-port=port=80:proto=tcp:toport=8080</span><br></pre></td></tr></table></figure>
<p>上述命令会把 80 端口的 tcp 全部转发到当前服务器的 8080 端口</p>
<p>转发到其他主机</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd --zone=external --add-forward-port=port=80:proto=tcp:toaddr=10.10.10.2</span><br></pre></td></tr></table></figure>
<p>上述命令会把 80 端口的 tcp 全部转发到服务器 10.10.10.2 的 80 端口<br>[^1]: 本节命令在 centos7 下验证</p>
<h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><h3 id="Bulletin"><a href="#Bulletin" class="headerlink" title="Bulletin"></a>Bulletin</h3><p>本文首发于 <a href="skyline.show">skyline.show</a> 欢迎访问。</p>
<blockquote>
<p>I am a bucolic migrant worker but I never walk backwards.</p>
</blockquote>
<h3 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h3><p>参考资料如下列出，部分引用可能遗漏或不可考，侵删。</p>
<blockquote>
<p><a href="https://linuxize.com/post/how-to-configure-and-manage-firewall-on-centos-8/" target="_blank" rel="noopener">https://linuxize.com/post/how-to-configure-and-manage-firewall-on-centos-8/</a></p>
</blockquote>
<h3 id="Warrant"><a href="#Warrant" class="headerlink" title="Warrant"></a>Warrant</h3><p>本文作者： Skyline(lty)<br>授权声明： 本博客所有文章除特别声明外， 均采用 CC BY - NC - SA 3.0 协议。 转载请注明出处！</p>
<blockquote>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a></p>
</blockquote>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/CentOS防火墙.html](http://www.skyline.show/CentOS防火墙.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-VIM基本使用"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/VIM基本使用.html">VIM基本使用</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="VIM-基本使用"><a href="#VIM-基本使用" class="headerlink" title="VIM 基本使用"></a>VIM 基本使用</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#vim-基本使用">VIM 基本使用</a><ul>
<li><a href="#模式">模式</a><ul>
<li><a href="#正常模式-normal-mode">正常模式 (Normal-mode)</a></li>
<li><a href="#插入模式-insert-mode">插入模式 (Insert-mode)</a></li>
<li><a href="#命令模式-command-mode">命令模式 (Command-mode)</a></li>
<li><a href="#可视模式-visual-mode">可视模式 (Visual-mode)</a></li>
</ul>
</li>
<li><a href="#vimrc">.vimrc</a><ul>
<li><a href="#inoremap">inoremap</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h2><h3 id="正常模式-Normal-mode"><a href="#正常模式-Normal-mode" class="headerlink" title="正常模式 (Normal-mode)"></a>正常模式 (Normal-mode)</h3><p>正常模式一般用于浏览文件，同时包括一些复制、粘贴、删除等快捷操作。<br>其他模式通常通过 ESC 键返回正常模式。</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>按键</th>
<th>EN</th>
</tr>
</thead>
<tbody>
<tr>
<td>撤销</td>
<td>u</td>
<td>undo</td>
</tr>
</tbody>
</table>
<h3 id="插入模式-Insert-mode"><a href="#插入模式-Insert-mode" class="headerlink" title="插入模式 (Insert-mode)"></a>插入模式 (Insert-mode)</h3><p>用于编辑文档，直接输入内容。</p>
<h3 id="命令模式-Command-mode"><a href="#命令模式-Command-mode" class="headerlink" title="命令模式 (Command-mode)"></a>命令模式 (Command-mode)</h3><p>输入:或/进入命令模式<br>命令模式用于执行 VIM 提供的相关指令。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>按键</th>
<th>EN</th>
</tr>
</thead>
<tbody>
<tr>
<td>移动</td>
<td>:m</td>
<td>move</td>
</tr>
<tr>
<td>设定</td>
<td>:set</td>
</tr>
</tbody>
</table>
<p><strong>:m</strong><br>:m 多用于换行操作，当前行的位置为 0.具体使用如下</p>
<ul>
<li>:m -2 移动到-2 行的位置(当前行与上一行互换)</li>
<li>:m +1 移动到+1 行的位置(当前行与下一行互换)</li>
<li>:m 0 移动到首行的位置</li>
<li>:m $ 移动到尾行的位置</li>
</ul>
<p><strong>:set</strong><br>:set number 显示行索引</p>
<h3 id="可视模式-Visual-mode"><a href="#可视模式-Visual-mode" class="headerlink" title="可视模式 (Visual-mode)"></a>可视模式 (Visual-mode)</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>在正常模式按下 v, V, ^ + v，可以进入可视模式<br>可视模式下执行文本选择操作。</p>
<h2 id="vimrc"><a href="#vimrc" class="headerlink" title=".vimrc"></a>.vimrc</h2><h3 id="inoremap"><a href="#inoremap" class="headerlink" title="inoremap"></a>inoremap</h3><p>按键映射</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">inoremap zz</span><br></pre></td></tr></table></figure>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/VIM基本使用.html](http://www.skyline.show/VIM基本使用.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-VSCode相关问题汇总"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/VSCode相关问题汇总.html">VSCode相关问题汇总</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="VSCode-相关问题汇总"><a href="#VSCode-相关问题汇总" class="headerlink" title="VSCode 相关问题汇总"></a>VSCode 相关问题汇总</h1><h2 id="Snippets"><a href="#Snippets" class="headerlink" title="Snippets"></a>Snippets</h2><h3 id="markdown-文件-Snippets-不生效"><a href="#markdown-文件-Snippets-不生效" class="headerlink" title="markdown 文件 Snippets 不生效"></a>markdown 文件 Snippets 不生效</h3><p><strong>问题描述</strong><br>通过 File -&gt; Preferences -&gt; User Snippets -&gt; Markdown<br>写相关代码块如下<br><code>markdown.json</code></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">// Place your snippets for markdown here. Each snippet is defined under a snippet name and has a prefix, body and</span></span><br><span class="line">	<span class="comment">// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:</span></span><br><span class="line">	<span class="comment">// $1, $2 for tab stops, $0 for the final cursor position, and $&#123;1:label&#125;, $&#123;2:another&#125; for placeholders. Placeholders with the</span></span><br><span class="line">	<span class="comment">// same ids are connected.</span></span><br><span class="line">	<span class="comment">// Example:</span></span><br><span class="line">	<span class="attr">"JS code block"</span>: &#123;</span><br><span class="line">		<span class="comment">// "scope": "md,markdown",</span></span><br><span class="line">		<span class="attr">"prefix"</span>: <span class="string">":cjs"</span>,</span><br><span class="line">		<span class="attr">"body"</span>: [</span><br><span class="line">			<span class="string">"```$&#123;1:js&#125;"</span>,</span><br><span class="line">			<span class="string">"$2"</span>,</span><br><span class="line">			<span class="string">"```"</span></span><br><span class="line">		],</span><br><span class="line">		<span class="attr">"description"</span>: <span class="string">"JS code block"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">"PY code block"</span>: &#123;</span><br><span class="line">		<span class="comment">// "scope": "md,markdown",</span></span><br><span class="line">		<span class="attr">"prefix"</span>: <span class="string">":cpy"</span>,</span><br><span class="line">		<span class="attr">"body"</span>: [</span><br><span class="line">			<span class="string">"```$&#123;1:python&#125;"</span>,</span><br><span class="line">			<span class="string">"$2"</span>,</span><br><span class="line">			<span class="string">"```"</span></span><br><span class="line">		],</span><br><span class="line">		<span class="attr">"description"</span>: <span class="string">"PY code block"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 markdown 文件中敲击:cjs 不自动提示。<br><strong>解决方案</strong><br>尝试 CTRL + Space 强制开启。<br>在用户配置<code>setting.json</code>中添加如下配置项</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">"[markdown]": &#123;</span><br><span class="line">    "editor.quickSuggestions": true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/VSCode相关问题汇总.html](http://www.skyline.show/VSCode相关问题汇总.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-黑群晖常见问题"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/黑群晖常见问题.html">黑群晖常见问题</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="黑群晖常见问题"><a href="#黑群晖常见问题" class="headerlink" title="黑群晖常见问题"></a>黑群晖常见问题</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#黑群晖常见问题">黑群晖常见问题</a><ul>
<li><a href="#黑群晖搜索不到ip">黑群晖搜索不到IP</a><ul>
<li><a href="#网络联通检查">网络联通检查</a></li>
<li><a href="#网卡驱动问题">网卡驱动问题</a></li>
</ul>
</li>
<li><a href="#ssd缓存">SSD缓存</a></li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="黑群晖搜索不到IP"><a href="#黑群晖搜索不到IP" class="headerlink" title="黑群晖搜索不到IP"></a>黑群晖搜索不到IP</h2><h3 id="网络联通检查"><a href="#网络联通检查" class="headerlink" title="网络联通检查"></a>网络联通检查</h3><p>主板网口灯检查<br>检查主板网口灯，绿灯常亮说明网络连接成功，黄灯闪烁说明有流量传输。<br>若绿灯亮，进入下一步。</p>
<h3 id="网卡驱动问题"><a href="#网卡驱动问题" class="headerlink" title="网卡驱动问题"></a>网卡驱动问题</h3><p>检查网卡配置，黑群晖默认不支持2.5G以及万兆网卡，<br>需要替换引导中的网卡驱动文件。<br>直接Google<code>DS918+ 6.23 &quot;0.13.3&quot;</code><br>找到DS918-6.23_1.04b的扩展驱动0.13.3.zip<br>解压得到进行两个文件<br><code>extra.lzma
extra2.lzma</code><br>然后替换[^1]。<br>用 DiskGenius 打开启动 U 盘。在左侧目录下可以看到一个 分区(1)，右键选择”挂载到 windows”。然后选择确定之后。可以发现这个分区出现在文件管理那边。<br>用上述解压得到的文件替换分区里的文件即可。<br>然后退出 U 盘，重新启动，就能支持 2.5G 网卡了<br>[^1]:<a href="https://post.smzdm.com/p/aoxd6697/" target="_blank" rel="noopener">https://post.smzdm.com/p/aoxd6697/</a></p>
<h2 id="SSD缓存"><a href="#SSD缓存" class="headerlink" title="SSD缓存"></a>SSD缓存</h2><p>不打补丁的情况下，黑群晖默认不识别SSD<br>SSD补丁如下<br>版本 | 补丁 | 操作<br>— | — | —<br>6.22 | libNVMEpatch.sh |  将 libNVMEpatch.sh 移动到/usr/local/etc/rc.d/ 下sudo 赋读写执行权限 <code>sudo chmod 755 libNVMEpatch.sh</code><br>6.23 | libsynonvme.so.1 |  将 libNVMEpatch.sh 移动到/usr/local/etc/rc.d/ 下sudo 赋读写执行权限 <code>sudo chmod 755 libNVMEpatch.sh</code></p>
<p>上述操作需要先远程ssh user@ip ，操作完成后退出重启即可[^2]<br>[^2]:<a href="https://wp.gxnas.com/6010.html" target="_blank" rel="noopener">https://wp.gxnas.com/6010.html</a></p>
<h2 id="Moments-人物、主题无照片"><a href="#Moments-人物、主题无照片" class="headerlink" title="Moments 人物、主题无照片"></a>Moments 人物、主题无照片</h2><p>安装Moments后人物与主题无法智能识别，进入后显示还有xxx张照片待发现。<br>停用Moments<br>进入 /var/packages/SynologyMoments/target/usr/lib 目录下<br>备份 libsynophoto-plugin-detection.so<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mv ./libsynophoto-plugin-detection.so ./libsynophoto-plugin-detection.so.bak</span><br></pre></td></tr></table></figure></p>
<p><a href="http://42.193.201.102:8443/file/Docs/Tools/OS/Nas/黑群晖常见问题/libsynophoto-plugin-detection.so" target="_blank" rel="noopener">libsynophoto-plugin-detection.so</a><br>将下载的新文件放在 /var/packages/SynologyMoments/target/usr/lib下，对全部用户赋完全权限（777）或对SynologyMoments赋控制权限（755）。<br>开启moments，重建索引。<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%9820220121102822.png" alt="黑群晖常见问题20220121102822"></p>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/黑群晖常见问题.html](http://www.skyline.show/黑群晖常见问题.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Nginx常见问题汇总"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/Nginx常见问题汇总.html">Nginx常见问题汇总</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="Nginx-常见问题汇总"><a href="#Nginx-常见问题汇总" class="headerlink" title="Nginx 常见问题汇总"></a>Nginx 常见问题汇总</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#nginx-常见问题汇总">Nginx 常见问题汇总</a><ul>
<li><a href="#proxy_pass-代理接口不能访问">proxy_pass 代理接口不能访问</a><ul>
<li><a href="#问题描述">问题描述</a></li>
<li><a href="#配置">配置</a></li>
</ul>
</li>
<li><a href="#页面刷新不能进入">页面刷新不能进入</a></li>
<li><a href="#bmw-warning">BMW WARNING</a><ul>
<li><a href="#bulletin">Bulletin</a></li>
<li><a href="#material">Material</a></li>
<li><a href="#warrant">Warrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="proxy-pass-代理接口不能访问"><a href="#proxy-pass-代理接口不能访问" class="headerlink" title="proxy_pass 代理接口不能访问"></a>proxy_pass 代理接口不能访问</h2><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>客户端访问接口，发起请求<br><a href="http://aaa.com/file/123.png" target="_blank" rel="noopener">http://aaa.com/file/123.png</a></p>
<p>真实接口地址为<br><a href="http://bbb.com/123.png" target="_blank" rel="noopener">http://bbb.com/123.png</a></p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>检查配置，正确的配置如下</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">location ^~ /file/ &#123;</span><br><span class="line">    proxy_pass http://bbb.com/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>检查地址，注意后缀’/‘都不能去掉。<br>一般把 server:port 后的部分叫做 URI，proxy_pass 在其后加不加 URI 表现完全不同。<br>location 非正则匹配时，proxy_pass 有 URI 直接用 URI 把 location 对应的字符替换，无 URI 则直接替换 server:port<br>详细解析查看<a href="https://github.com/skylinety/Blog/blob/bf27769f7e637edbb12e2bac320d4dd8b73692e5/Docs/Tools/DEVs/Nginx/Nginx%E5%9F%BA%E7%A1%80.md" target="_blank" rel="noopener">Nginx 基础</a></p>
<h2 id="页面刷新不能进入"><a href="#页面刷新不能进入" class="headerlink" title="页面刷新不能进入"></a>页面刷新不能进入</h2><p>检查页面的路由模式。<br>特别是在 Vue 项目中，具体查看 <a href="https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations" target="_blank" rel="noopener">HTML5 History Mode</a><br>vue 默认的是 hash 路由模式，使用此种模式，页面路由变化时，并不会重载页面<br>在配置网站根文件的位置加入<br><code>try_files $uri $uri/ /index.html;</code><br>一般如下配置</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">location ^~ /skyline&#123;</span><br><span class="line">    alias /data/wwwroot/skyline/dist;</span><br><span class="line">    index  index.html index.htm;</span><br><span class="line">    try_files $uri $uri/ /index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><h3 id="Bulletin"><a href="#Bulletin" class="headerlink" title="Bulletin"></a>Bulletin</h3><p>本文首发于 <a href="skyline.show">skyline.show</a> 欢迎访问。</p>
<blockquote>
<p>I am a bucolic migrant worker but I never walk backwards.</p>
</blockquote>
<h3 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>参考资料如下列出，部分引用可能遗漏或不可考，侵删。</p>
<blockquote>
</blockquote>
<h3 id="Warrant"><a href="#Warrant" class="headerlink" title="Warrant"></a>Warrant</h3><p>本文作者： Skyline(lty)<br>授权声明： 本博客所有文章除特别声明外， 均采用 CC BY - NC - SA 3.0 协议。 转载请注明出处！</p>
<blockquote>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a></p>
</blockquote>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/Nginx常见问题汇总.html](http://www.skyline.show/Nginx常见问题汇总.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-黑群晖安装"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/黑群晖安装.html">黑群晖安装</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="黑群晖安装"><a href="#黑群晖安装" class="headerlink" title="黑群晖安装"></a>黑群晖安装</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#黑群晖安装">黑群晖安装</a><ul>
<li><a href="#硬件准备">硬件准备</a><ul>
<li><a href="#nas-主机">Nas 主机</a></li>
<li><a href="#u-盘">u 盘</a></li>
<li><a href="#电脑">电脑</a></li>
</ul>
</li>
<li><a href="#软件准备">软件准备</a><ul>
<li><a href="#系统选择">系统选择</a></li>
<li><a href="#相关软件">相关软件</a></li>
</ul>
</li>
<li><a href="#引导盘准备">引导盘准备</a><ul>
<li><a href="#获取-vid-与-pid">获取 VID 与 PID</a></li>
<li><a href="#替换-vid-与-pid">替换 VID 与 PID</a></li>
<li><a href="#格式化硬盘">格式化硬盘</a></li>
<li><a href="#引导盘制作">引导盘制作</a></li>
</ul>
</li>
<li><a href="#安装系统">安装系统</a><ul>
<li><a href="#nas-进入">Nas 进入</a></li>
</ul>
</li>
<li><a href="#bmw-warning">BMW WARNING</a><ul>
<li><a href="#bulletin">Bulletin</a></li>
<li><a href="#material">Material</a></li>
<li><a href="#warrant">Warrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="硬件准备"><a href="#硬件准备" class="headerlink" title="硬件准备"></a>硬件准备</h2><table>
<thead>
<tr>
<th>硬件</th>
<th>要求</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nas 主机</td>
<td>Intel CPU</td>
</tr>
<tr>
<td>u 盘</td>
<td>&gt; 50M</td>
</tr>
<tr>
<td>电脑</td>
<td>Windows 系统</td>
</tr>
<tr>
<td>键鼠</td>
<td>进 BIOS 等</td>
</tr>
<tr>
<td>硬盘</td>
<td>大大的好</td>
</tr>
</tbody>
</table>
<h3 id="Nas-主机"><a href="#Nas-主机" class="headerlink" title="Nas 主机"></a>Nas 主机</h3><p>黑群晖对主机的要求不是很高，不需要硬解软路由+移动硬盘都可运行。<br>主机一般推荐使用 10 代以下的 Intel CPU.<br>新代 Intel 与 AMD 等其他 CPU 主机核显硬解不友好，视硬解需求而定。</p>
<h3 id="u-盘"><a href="#u-盘" class="headerlink" title="u 盘"></a>u 盘</h3><p>U 盘用于做系统引导，引导程序的大小为 50M。<br>大于这个容量即可，现在 U 盘基本都满足要求。</p>
<h3 id="电脑"><a href="#电脑" class="headerlink" title="电脑"></a>电脑</h3><p>需要一台 windows 电脑来安装系统引导程序。<br>键鼠需要插入 Nas 主机操作 BIOS。</p>
<h2 id="软件准备"><a href="#软件准备" class="headerlink" title="软件准备"></a>软件准备</h2><h3 id="系统选择"><a href="#系统选择" class="headerlink" title="系统选择"></a>系统选择</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>黑群晖的系统目前主流使用的有三个版本</p>
<ul>
<li>DS3615xs</li>
<li>DS3617xs</li>
<li>DS918+</li>
</ul>
<p>个人一般使用 DS918+ 。<br>其他两个为企业级用户设计，系统没有显卡驱动，不支持硬解功能。</p>
<p>黑群晖系统分为两部分：<br>引导文件.img<br>系统文件.pat</p>
<h3 id="相关软件"><a href="#相关软件" class="headerlink" title="相关软件"></a>相关软件</h3><p>在 Windows 电脑上安装如下软件</p>
<table>
<thead>
<tr>
<th>软件</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>ChipEasy 芯片无忧</td>
<td>查找 U 盘的 VID 和 PID</td>
</tr>
<tr>
<td>DiskGenius</td>
<td>修改 grub.cfg 配置</td>
</tr>
<tr>
<td>Win32 Disk Imager</td>
<td>写入镜像</td>
</tr>
</tbody>
</table>
<h2 id="引导盘准备"><a href="#引导盘准备" class="headerlink" title="引导盘准备"></a>引导盘准备</h2><h3 id="获取-VID-与-PID"><a href="#获取-VID-与-PID" class="headerlink" title="获取 VID 与 PID"></a>获取 VID 与 PID</h3><p>插入 U 盘，打开 ChipEasy 芯片无忧，选择对应 U 盘，获取 VID 与 PID</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Logical drive   : E:\            Capacity:  29.4G</span><br><span class="line">Device ID       : VID = 17EF     PID = 38AC</span><br><span class="line">Device SN       : SCY0000000001464</span><br><span class="line">Device version  : 1100</span><br></pre></td></tr></table></figure>
<p>位于信息中的第二行。</p>
<p>关闭 ChipEasy</p>
<h3 id="替换-VID-与-PID"><a href="#替换-VID-与-PID" class="headerlink" title="替换 VID 与 PID"></a>替换 VID 与 PID</h3><p>打开 DiskGenius，选择“硬盘”-“打开虚拟硬盘文件”<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119142133.png" alt="黑群晖安装20211119142133"></p>
<p>选择 引导文件.img<br>选中 ESP(0)/grub<br>复制 grub.cfg 到桌面<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119142500.png" alt="黑群晖安装20211119142500"></p>
<p>用记事本或其他编辑器打开<br>替换之前获取的 ID<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119143408.png" alt="黑群晖安装20211119143408"><br>sn 与 mac1 是洗白用的，半白网上可搜索对应 SN,替换后图片可看缩略图。<br>全白可在某某宝获取，替换后可用群晖的 QC 实现外网访问。</p>
<p>修改完成后拖动回到 DiskGenius 刚才对应的目录下，替换原始文件。</p>
<h3 id="格式化硬盘"><a href="#格式化硬盘" class="headerlink" title="格式化硬盘"></a>格式化硬盘</h3><p>写入引导需要 U 盘只有一个分区，否则有错误提示，写入引导最好先进行如下格式化操作。<br>删除硬盘分区<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119144352.png" alt="黑群晖安装20211119144352"><br>重建硬盘分区<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119144640.png" alt="黑群晖安装20211119144640"></p>
<p>保存更改，在弹窗中点击是，进行 U 盘格式化<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119144849.png" alt="黑群晖安装20211119144849"><br>退出 DiskGenius</p>
<h3 id="引导盘制作"><a href="#引导盘制作" class="headerlink" title="引导盘制作"></a>引导盘制作</h3><p>打开 win32diskimager 选择修改好的 U 盘与 img 文件<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119151144.png" alt="黑群晖安装20211119151144"></p>
<p>写入完成后 U 盘消失，引导盘制作成功</p>
<h2 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h2><h3 id="Nas-进入"><a href="#Nas-进入" class="headerlink" title="Nas 进入"></a>Nas 进入</h3><p>U 盘插入 Nas 主机，BIOS 设置 U 盘启动。<br>选择默认第一个选项，回车<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119153334.png" alt="黑群晖安装20211119153334"><br>如果出席一下画面，说明引导成功。<br><img src="https://raw.githubusercontent.com/skylinety/blog-pics/master/imgs/%E9%BB%91%E7%BE%A4%E6%99%96%E5%AE%89%E8%A3%8520211119153410.png" alt="黑群晖安装20211119153410"></p>
<p>在电脑端输入<a href="http://find.synology.com进行访问，或使用synology-assistant" target="_blank" rel="noopener">http://find.synology.com进行访问，或使用synology-assistant</a></p>
<h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><h3 id="Bulletin"><a href="#Bulletin" class="headerlink" title="Bulletin"></a>Bulletin</h3><p>本文首发于 <a href="skyline.show">skyline.show</a> 欢迎访问。</p>
<blockquote>
<p>I am a bucolic migrant worker but I never walk backwards.</p>
</blockquote>
<h3 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h3><p>参考资料如下列出，部分引用可能遗漏或不可考，侵删。</p>
<blockquote>
</blockquote>
<h3 id="Warrant"><a href="#Warrant" class="headerlink" title="Warrant"></a>Warrant</h3><p>本文作者： Skyline(lty)<br>授权声明： 本博客所有文章除特别声明外， 均采用 CC BY - NC - SA 3.0 协议。 转载请注明出处！</p>
<blockquote>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a></p>
</blockquote>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/黑群晖安装.html](http://www.skyline.show/黑群晖安装.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-IpadOS常见问题"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/IpadOS常见问题.html">IpadOS常见问题</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
    <a href="javascript:void(0)" class="article-date">
      <time datetime="2022-01-20T07:47:15.000Z" itemprop="datePublished">2022-01-20</time>
    </a>


      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>作者水平有限，文章仅供参考，不对的地方希望各位及时指正，共同进步，不胜感激</p>
</blockquote>
<h1 id="IpadOS-常见问题"><a href="#IpadOS-常见问题" class="headerlink" title="IpadOS 常见问题"></a>IpadOS 常见问题</h1><!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#ipados-常见问题">IpadOS 常见问题</a><ul>
<li><a href="#apple-pencil-断触">Apple pencil 断触</a><ul>
<li><a href="#软件问题">软件问题</a></li>
<li><a href="#还原设置">还原设置</a></li>
<li><a href="#硬件检测">硬件检测</a></li>
</ul>
</li>
<li><a href="#bmw-warning">BMW WARNING</a><ul>
<li><a href="#bulletin">Bulletin</a></li>
<li><a href="#material">Material</a></li>
<li><a href="#warrant">Warrant</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="Apple-pencil-断触"><a href="#Apple-pencil-断触" class="headerlink" title="Apple pencil 断触"></a>Apple pencil 断触</h2><h3 id="软件问题"><a href="#软件问题" class="headerlink" title="软件问题"></a>软件问题</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">使用系统自带的备忘录尝试是否为软件问题</span><br></pre></td></tr></table></figure>
<p>部分软件可能手触屏幕会有断触问题</p>
<h3 id="还原设置"><a href="#还原设置" class="headerlink" title="还原设置"></a>还原设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">关掉蓝牙重新连接 Pencil</span><br><span class="line"></span><br><span class="line">重启 iPad 后再次连接 Pencil</span><br><span class="line"></span><br><span class="line">打开 ipad 设置—&gt;通用—&gt;还原—&gt;还原所有设置</span><br></pre></td></tr></table></figure>
<p>上述操作只是还原设置，不会删除数据，但是人脸识别和密码，壁纸会还原</p>
<h3 id="硬件检测"><a href="#硬件检测" class="headerlink" title="硬件检测"></a>硬件检测</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">去除贴膜，笔尖套</span><br><span class="line"></span><br><span class="line">更换笔头尝试</span><br><span class="line"></span><br><span class="line">换个 ipad 试下是否为笔的问题</span><br></pre></td></tr></table></figure>
<p>这些操作都不行，联系售后解决</p>
<h2 id="BMW-WARNING"><a href="#BMW-WARNING" class="headerlink" title="BMW WARNING"></a>BMW WARNING</h2><h3 id="Bulletin"><a href="#Bulletin" class="headerlink" title="Bulletin"></a>Bulletin</h3><pre><code>&lt;!--more--&gt;
</code></pre><p>本文首发于 <a href="skyline.show">skyline.show</a> 欢迎访问。</p>
<blockquote>
<p>I am a bucolic migrant worker but I never walk backwards.</p>
</blockquote>
<h3 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h3><p>参考资料如下列出，部分引用可能遗漏或不可考，侵删。</p>
<blockquote>
</blockquote>
<h3 id="Warrant"><a href="#Warrant" class="headerlink" title="Warrant"></a>Warrant</h3><p>本文作者： Skyline(lty)<br>授权声明： 本博客所有文章除特别声明外， 均采用 CC BY - NC - SA 3.0 协议。 转载请注明出处！</p>
<blockquote>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC BY - NC - SA 3.0</a></p>
</blockquote>
<pre><code>&amp;nbsp;

&gt; 本文作者： Skyline(lty)
文章链接： [http://www.skyline.show/IpadOS常见问题.html](http://www.skyline.show/IpadOS常见问题.html)
版权声明： 部分图片源自网络，并已在图片下方标明，由于转载等诸多因素，图源可能不准确，侵删。本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0 许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/)。转载请注明出处！
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/">下一页 &raquo;</a>
  </nav>

</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p id="copyRightEn">Copyright &copy; 2017 - 2022 Skyline&#39;s blog All Rights Reserved.</p>
        <!-- <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p> -->
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>


  <script src="/js/home.js"></script>










	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Skyline&#39;s blog
          </div>
          <div class="panel-body">
            Copyright © 2022 skyline All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>